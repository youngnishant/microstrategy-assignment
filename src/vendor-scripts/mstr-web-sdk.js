/*! For license information please see embeddinglib.js.LICENSE.txt */
(()=>{var e,t,r={4103:(e,t,r)=>{e.exports=r(8196)},7766:(e,t,r)=>{e.exports=r(8065)},116:(e,t,r)=>{e.exports=r(1955)},4473:(e,t,r)=>{e.exports=r(1577)},8914:(e,t,r)=>{e.exports=r(6279)},8580:(e,t,r)=>{e.exports=r(3778)},1643:(e,t,r)=>{e.exports=r(9373)},7149:(e,t,r)=>{e.exports=r(5286)},2762:(e,t,r)=>{e.exports=r(2348)},954:(e,t,r)=>{e.exports=r(5202)},9340:(e,t,r)=>{e.exports=r(8933)},1942:(e,t,r)=>{e.exports=r(3383)},368:(e,t,r)=>{e.exports=r(7396)},3978:(e,t,r)=>{e.exports=r(1910)},4074:(e,t,r)=>{e.exports=r(9427)},9649:(e,t,r)=>{e.exports=r(2857)},4310:(e,t,r)=>{e.exports=r(9534)},6902:(e,t,r)=>{e.exports=r(3059)},455:(e,t,r)=>{e.exports=r(7795)},3476:(e,t,r)=>{e.exports=r(7460)},3032:(e,t,r)=>{e.exports=r(7989)},2424:(e,t,r)=>{e.exports=r(2010)},9010:(e,t,r)=>{e.exports=r(3726)},4341:(e,t,r)=>{e.exports=r(3685)},5096:(e,t,r)=>{"use strict";var a=r(7153),i=r(9136),o=r(7531),n=r(4022),s=r(5035),l=r(1516),u=r(7753),c=r(1001),d=r(2889);e.exports=g,g.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);r=a.validate||this._compile(a)}var i=r(t);return!0!==r.$async&&(this.errors=r.errors),i},g.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},g.prototype.addSchema=function(e,t,r,a){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,r,a);return this}var n=this._getId(e);if(void 0!==n&&"string"!=typeof n)throw new Error("schema id must be string");return w(this,t=i.normalizeId(t||n)),this._schemas[t]=this._addSchema(e,r,a,!0),this},g.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},g.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(f)?f:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(r,e);if(!a&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return a},g.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=i.schema.call(e,{schema:{}},t);if(r){var o=r.schema,s=r.root,l=r.baseId,u=a.call(e,o,s,void 0,l);return e._fragments[t]=new n({ref:t,fragment:!0,schema:o,root:s,baseId:l,validate:u}),u}}(this,e)}},g.prototype.removeSchema=function(e){if(e instanceof RegExp)return E(this,this._schemas,e),E(this,this._refs,e),this;switch(typeof e){case"undefined":return E(this,this._schemas),E(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,a=r?r(e):e;this._cache.del(a);var o=this._getId(e);o&&(o=i.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},g.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},g.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,a=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var n=e[o];n&&(i+=a+n.dataPath+" "+n.message+r)}return i.slice(0,-r.length)},g.prototype._addSchema=function(e,t,r,a){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(e):e,l=this._cache.get(s);if(l)return l;a=a||!1!==this._opts.addUsedSchema;var u=i.normalizeId(this._getId(e));u&&a&&w(this,u);var c,d=!1!==this._opts.validateSchema&&!t;d&&!(c=u&&u==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=i.ids.call(this,e),p=new n({id:u,schema:e,localRefs:h,cacheKey:s,meta:r});return"#"!=u[0]&&a&&(this._refs[u]=p),this._cache.put(s,p),d&&c&&this.validateSchema(e,!0),p},g.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var r,i;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{i=a.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function o(){var t=e.validate,r=t.apply(this,arguments);return o.errors=t.errors,r}},g.prototype.compileAsync=r(2931);var h=r(4895);g.prototype.addKeyword=h.add,g.prototype.getKeyword=h.get,g.prototype.removeKeyword=h.remove,g.prototype.validateKeyword=h.validate;var p=r(7802);g.ValidationError=p.Validation,g.MissingRefError=p.MissingRef,g.$dataMetaSchema=c;var f="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],v=["/properties"];function g(e){if(!(this instanceof g))return new g(e);e=this._opts=d.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:S,warn:S,error:S};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=l(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=function(e){switch(e.schemaId){case"auto":return P;case"id":return b;default:return _}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var t=d.copy(e._opts),r=0;r<m.length;r++)delete t[m[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;if(e._opts.$data&&(t=r(894),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var a=r(6680);e._opts.$data&&(a=c(a,v)),e.addMetaSchema(a,f,!0),e._refs["http://json-schema.org/schema"]=f}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function y(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function E(e,t,r){for(var a in t){var i=t[a];i.meta||r&&!r.test(a)||(e._cache.del(i.cacheKey),delete t[a])}}function b(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function _(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function P(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function w(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function S(){}},7531:e=>{"use strict";var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}},2931:(e,t,r)=>{"use strict";var a=r(7802).MissingRef;e.exports=function e(t,r,i){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(i=r,r=void 0);var n=s(t).then((function(){var e=o._addSchema(t,void 0,r);return e.validate||l(e)}));return i&&n.then((function(e){i(null,e)}),i),n;function s(t){var r=t.$schema;return r&&!o.getSchema(r)?e.call(o,{$ref:r},!0):Promise.resolve()}function l(e){try{return o._compile(e)}catch(t){if(t instanceof a)return function(t){var a=t.missingSchema;if(u(a))throw new Error("Schema "+a+" is loaded but "+t.missingRef+" cannot be resolved");var i=o._loadingSchemas[a];return i||(i=o._loadingSchemas[a]=o._opts.loadSchema(a)).then(n,n),i.then((function(e){if(!u(a))return s(e).then((function(){u(a)||o.addSchema(e,a,void 0,r)}))})).then((function(){return l(e)}));function n(){delete o._loadingSchemas[a]}function u(e){return o._refs[e]||o._schemas[e]}}(t);throw t}}}},7802:(e,t,r)=>{"use strict";var a=r(9136);function i(e,t,r){this.message=r||i.message(e,t),this.missingRef=a.url(e,t),this.missingSchema=a.normalizeId(a.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},1516:(e,t,r)=>{"use strict";var a=r(2889),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],n=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,s=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,c=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,f=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",a.copy(m[e])}function v(e){var t=e.match(i);if(!t)return!1;var r=+t[1],a=+t[2],n=+t[3];return a>=1&&a<=12&&n>=1&&n<=(2==a&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:o[a])}function g(e,t){var r=e.match(n);if(!r)return!1;var a=r[1],i=r[2],o=r[3],s=r[5];return(a<=23&&i<=59&&o<=59||23==a&&59==i&&60==o)&&(!t||s)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":u,url:c,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:_,uuid:d,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":f},m.full={date:v,time:g,"date-time":function(e){var t=e.split(y);return 2==t.length&&v(t[0])&&g(t[1],!0)},uri:function(e){return E.test(e)&&l.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":u,url:c,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:_,uuid:d,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":f};var y=/t|\s/i,E=/\/|:/,b=/[^\\]\\Z/;function _(e){if(b.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},7153:(e,t,r)=>{"use strict";var a=r(9136),i=r(2889),o=r(7802),n=r(5035),s=r(9508),l=i.ucs2length,u=r(4063),c=o.Validation;function d(e,t,r){var a=p.call(this,e,t,r);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:t,baseId:r},{index:a,compiling:!1})}function h(e,t,r){var a=p.call(this,e,t,r);a>=0&&this._compilations.splice(a,1)}function p(e,t,r){for(var a=0;a<this._compilations.length;a++){var i=this._compilations[a];if(i.schema==e&&i.root==t&&i.baseId==r)return a}return-1}function f(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function v(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function g(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var r="",a=0;a<e.length;a++)r+=t(a,e);return r}e.exports=function e(t,r,p,E){var b=this,_=this._opts,P=[void 0],w={},S=[],x={},A=[],T={},R=[];r=r||{schema:t,refVal:P,refs:w};var I=d.call(this,t,r,E),O=this._compilations[I.index];if(I.compiling)return O.callValidate=function e(){var t=O.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var C=this._formats,L=this.RULES;try{var D=j(t,r,p,E);O.validate=D;var F=O.callValidate;return F&&(F.schema=D.schema,F.errors=null,F.refs=D.refs,F.refVal=D.refVal,F.root=D.root,F.$async=D.$async,_.sourceCode&&(F.source=D.source)),D}finally{h.call(this,t,r,E)}function j(t,n,d,h){var p=!n||n&&n.schema==t;if(n.schema!=r.schema)return e.call(b,t,n,d,h);var E,x=!0===t.$async,T=s({isTop:!0,schema:t,isRoot:p,baseId:h,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:L,validate:s,util:i,resolve:a,resolveRef:N,usePattern:$,useDefault:U,useCustomRule:z,opts:_,formats:C,logger:b.logger,self:b});T=y(P,v)+y(S,f)+y(A,m)+y(R,g)+T,_.processCode&&(T=_.processCode(T,t));try{E=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",T)(b,L,C,r,P,A,R,u,l,c),P[0]=E}catch(e){throw b.logger.error("Error compiling schema, function code:",T),e}return E.schema=t,E.errors=null,E.refs=w,E.refVal=P,E.root=p?E:n,x&&(E.$async=!0),!0===_.sourceCode&&(E.source={code:T,patterns:S,defaults:A}),E}function N(t,i,o){i=a.url(t,i);var n,s,l=w[i];if(void 0!==l)return M(n=P[l],s="refVal["+l+"]");if(!o&&r.refs){var u=r.refs[i];if(void 0!==u)return M(n=r.refVal[u],s=k(i,n))}s=k(i);var c=a.call(b,j,r,i);if(void 0===c){var d=p&&p[i];d&&(c=a.inlineRef(d,_.inlineRefs)?d:e.call(b,d,r,p,t))}if(void 0!==c)return function(e,t){var r=w[e];P[r]=t}(i,c),M(c,s);!function(e){delete w[e]}(i)}function k(e,t){var r=P.length;return P[r]=t,w[e]=r,"refVal"+r}function M(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function $(e){var t=x[e];return void 0===t&&(t=x[e]=S.length,S[t]=e),"pattern"+t}function U(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=n(e),r=T[t];return void 0===r&&(r=T[t]=A.length,A[r]=e),"default"+r}}function z(e,t,r,a){if(!1!==b._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var o=e.definition.validateSchema;if(o&&!o(t)){var n="keyword schema is invalid: "+b.errorsText(o.errors);if("log"!=b._opts.validateSchema)throw new Error(n);b.logger.error(n)}}var s,l=e.definition.compile,u=e.definition.inline,c=e.definition.macro;if(l)s=l.call(b,t,r,a);else if(c)s=c.call(b,t,r,a),!1!==_.validateSchema&&b.validateSchema(s,!0);else if(u)s=u.call(b,a,e.keyword,t,r);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var d=R.length;return R[d]=s,{code:"customRule"+d,validate:s}}}},9136:(e,t,r)=>{"use strict";var a=r(540),i=r(4063),o=r(2889),n=r(4022),s=r(9461);function l(e,t,r){var a=this._refs[r];if("string"==typeof a){if(!this._refs[a])return l.call(this,e,t,a);a=this._refs[a]}if((a=a||this._schemas[r])instanceof n)return f(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var i,o,s,c=u.call(this,t,r);return c&&(i=c.schema,t=c.root,s=c.baseId),i instanceof n?o=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(o=f(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function u(e,t){var r=a.parse(t),i=y(r),o=g(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==o){var s=b(i),l=this._refs[s];if("string"==typeof l)return c.call(this,e,l,r);if(l instanceof n)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[s])instanceof n))return;if(l.validate||this._compile(l),s==b(t))return{schema:l,root:e,baseId:o};e=l}if(!e.schema)return;o=g(this._getId(e.schema))}return h.call(this,r,o,e.schema,e)}function c(e,t,r){var a=u.call(this,e,t);if(a){var i=a.schema,o=a.baseId;e=a.root;var n=this._getId(i);return n&&(o=_(o,n)),h.call(this,r,o,i,e)}}e.exports=l,l.normalizeId=b,l.fullPath=g,l.url=_,l.ids=function(e){var t=b(this._getId(e)),r={"":t},n={"":g(t,!1)},l={},u=this;return s(e,{allKeys:!0},(function(e,t,s,c,d,h,p){if(""!==t){var f=u._getId(e),m=r[c],v=n[c]+"/"+d;if(void 0!==p&&(v+="/"+("number"==typeof p?p:o.escapeFragment(p))),"string"==typeof f){f=m=b(m?a.resolve(m,f):f);var g=u._refs[f];if("string"==typeof g&&(g=u._refs[g]),g&&g.schema){if(!i(e,g.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=b(v))if("#"==f[0]){if(l[f]&&!i(e,l[f]))throw new Error('id "'+f+'" resolves to more than one schema');l[f]=e}else u._refs[f]=v}r[t]=m,n[t]=v}})),l},l.inlineRef=f,l.schema=u;var d=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,r,a){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),n=1;n<i.length;n++){var s=i[n];if(s){if(void 0===(r=r[s=o.unescapeFragment(s)]))break;var l;if(!d[s]&&((l=this._getId(r))&&(t=_(t,l)),r.$ref)){var c=_(t,r.$ref),h=u.call(this,a,c);h&&(r=h.schema,a=h.root,t=h.baseId)}}}return void 0!==r&&r!==a.schema?{schema:r,root:a,baseId:t}:void 0}}var p=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function f(e,t){return!1!==t&&(void 0===t||!0===t?m(e):t?v(e)<=t:void 0)}function m(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&!m(t))return!1}else for(var a in e){if("$ref"==a)return!1;if("object"==typeof(t=e[a])&&!m(t))return!1}return!0}function v(e){var t,r=0;if(Array.isArray(e)){for(var a=0;a<e.length;a++)if("object"==typeof(t=e[a])&&(r+=v(t)),r==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(p[i])r++;else if("object"==typeof(t=e[i])&&(r+=v(t)+1),r==1/0)return 1/0}return r}function g(e,t){return!1!==t&&(e=b(e)),y(a.parse(e))}function y(e){return a.serialize(e).split("#")[0]+"#"}var E=/#\/?$/;function b(e){return e?e.replace(E,""):""}function _(e,t){return t=b(t),a.resolve(e,t)}},7753:(e,t,r)=>{"use strict";var a=r(6674),i=r(2889).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var i;if("object"==typeof r){var o=Object.keys(r)[0];i=r[o],r=o,i.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:a[r],implements:i}})),e.all.$comment={keyword:"$comment",code:a.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},4022:(e,t,r)=>{"use strict";var a=r(2889);e.exports=function(e){a.copy(e,this)}},4442:e=>{"use strict";e.exports=function(e){for(var t,r=0,a=e.length,i=0;i<a;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return r}},2889:(e,t,r)=>{"use strict";function a(e,t,r,a){var i=a?" !== ":" === ",o=a?" || ":" && ",n=a?"!":"",s=a?"":"!";switch(e){case"null":return t+i+"null";case"array":return n+"Array.isArray("+t+")";case"object":return"("+n+t+o+"typeof "+t+i+'"object"'+o+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+o+s+"("+t+" % 1)"+o+t+i+t+(r?o+n+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+'"'+e+'"'+(r?o+n+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+'"'+e+'"'}}e.exports={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:a,checkDataTypes:function(e,t,r){if(1===e.length)return a(e[0],t,r,!0);var i="",n=o(e);for(var s in n.array&&n.object&&(i=n.null?"(":"(!"+t+" || ",i+="typeof "+t+' !== "object")',delete n.null,delete n.array,delete n.object),n.number&&delete n.integer,n)i+=(i?" && ":"")+a(s,t,r,!0);return i},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],a=0;a<t.length;a++){var o=t[a];(i[o]||"array"===e&&"array"===o)&&(r[r.length]=o)}if(r.length)return r}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:l,escapeQuotes:u,equal:r(4063),ucs2length:r(4442),varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var a in e)if(a!=r&&t[a])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var r in e)if(!t[r])return r},toQuotedString:c,getPathExpr:function(e,t,r,a){return p(e,r?"'/' + "+t+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){return p(e,c(r?"/"+f(t):l(t)))},getData:function(e,t,r){var a,i,o,n;if(""===e)return"rootData";if("/"==e[0]){if(!d.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(n=e.match(h)))throw new Error("Invalid JSON-pointer: "+e);if(a=+n[1],"#"==(i=n[2])){if(a>=t)throw new Error("Cannot access property/index "+a+" levels up, current level is "+t);return r[t-a]}if(a>t)throw new Error("Cannot access data "+a+" levels up, current level is "+t);if(o="data"+(t-a||""),!i)return o}for(var s=o,u=i.split("/"),c=0;c<u.length;c++){var p=u[c];p&&(s+=" && "+(o+=l(m(p))))}return s},unescapeFragment:function(e){return m(decodeURIComponent(e))},unescapeJsonPointer:m,escapeFragment:function(e){return encodeURIComponent(f(e))},escapeJsonPointer:f};var i=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var n=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function l(e){return"number"==typeof e?"["+e+"]":n.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function c(e){return"'"+u(e)+"'"}var d=/^\/(?:[^~]|~0|~1)*$/,h=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function p(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function f(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function m(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},1001:e=>{"use strict";var t=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,r){for(var a=0;a<r.length;a++){e=JSON.parse(JSON.stringify(e));var i,o=r[a].split("/"),n=e;for(i=1;i<o.length;i++)n=n[o[i]];for(i=0;i<t.length;i++){var s=t[i],l=n[s];l&&(n[s]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},1128:(e,t,r)=>{"use strict";var a=r(6680);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:a.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:a.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},8210:e=>{"use strict";e.exports=function(e,t,r){var a,i=" ",o=e.level,n=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(n||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,n,e.dataPathArr)+"; ",a="schema"+o):a=s;var p="maximum"==t,f=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[f],v=e.opts.$data&&m&&m.$data,g=p?"<":">",y=p?">":"<",E=void 0;if(!h&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!v&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(f+" must be number or boolean");if(v){var b,_=e.util.getData(m.$data,n,e.dataPathArr),P="exclusive"+o,w="exclType"+o,S="exclIsNumber"+o,x="' + "+(T="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+_+"; ",i+=" var "+P+"; var "+w+" = typeof "+(_="schemaExcl"+o)+"; if ("+w+" != 'boolean' && "+w+" != 'undefined' && "+w+" != 'number') { ",E=f,(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(E||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var A=i;i=b.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+A+"]); ":i+=" validate.errors = ["+A+"]; return false; ":i+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" "+w+" == 'number' ? ( ("+P+" = "+a+" === undefined || "+_+" "+g+"= "+a+") ? "+d+" "+y+"= "+_+" : "+d+" "+y+" "+a+" ) : ( ("+P+" = "+_+" === true) ? "+d+" "+y+"= "+a+" : "+d+" "+y+" "+a+" ) || "+d+" !== "+d+") { var op"+o+" = "+P+" ? '"+g+"' : '"+g+"='; ",void 0===s&&(E=f,u=e.errSchemaPath+"/"+f,a=_,h=v)}else if(x=g,(S="number"==typeof m)&&h){var T="'"+x+"'";i+=" if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" ( "+a+" === undefined || "+m+" "+g+"= "+a+" ? "+d+" "+y+"= "+m+" : "+d+" "+y+" "+a+" ) || "+d+" !== "+d+") { "}else S&&void 0===s?(P=!0,E=f,u=e.errSchemaPath+"/"+f,a=m,y+="="):(S&&(a=Math[p?"min":"max"](m,s)),m===(!S||a)?(P=!0,E=f,u=e.errSchemaPath+"/"+f,y+="="):(P=!1,x+="=")),T="'"+x+"'",i+=" if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" "+d+" "+y+" "+a+" || "+d+" !== "+d+") { ";return E=E||t,(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(E||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+T+", limit: "+a+", exclusive: "+P+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+x+" ",i+=h?"' + "+a:a+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ",A=i,i=b.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+A+"]); ":i+=" validate.errors = ["+A+"]; return false; ":i+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},3038:e=>{"use strict";e.exports=function(e,t,r){var a,i=" ",o=e.level,n=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(n||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,n,e.dataPathArr)+"; ",a="schema"+o):a=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" "+d+".length "+("maxItems"==t?">":"<")+" "+a+") { ";var p=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=h?"' + "+a+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;return i=f.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},425:e=>{"use strict";e.exports=function(e,t,r){var a,i=" ",o=e.level,n=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(n||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,n,e.dataPathArr)+"; ",a="schema"+o):a=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),!1===e.opts.unicode?i+=" "+d+".length ":i+=" ucs2length("+d+") ",i+=" "+p+" "+a+") { ";var f=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+a+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var v=i;return i=m.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},8204:e=>{"use strict";e.exports=function(e,t,r){var a,i=" ",o=e.level,n=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(n||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,n,e.dataPathArr)+"; ",a="schema"+o):a=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),i+=" Object.keys("+d+").length "+("maxProperties"==t?">":"<")+" "+a+") { ";var p=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=h?"' + "+a+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;return i=f.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},2988:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),n=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),u="";l.level++;var c="valid"+l.level,d=l.baseId,h=!0,p=i;if(p)for(var f,m=-1,v=p.length-1;m<v;)f=p[m+=1],(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0||!1===f:e.util.schemaHasRules(f,e.RULES.all))&&(h=!1,l.schema=f,l.schemaPath=o+"["+m+"]",l.errSchemaPath=n+"/"+m,a+="  "+e.validate(l)+" ",l.baseId=d,s&&(a+=" if ("+c+") { ",u+="}"));return s&&(a+=h?" if (true) { ":" "+u.slice(0,-1)+" "),a}},9996:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,v=n.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}));if(v){var g=p.baseId;a+=" var "+h+" = errors; var "+d+" = false;  ";var y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var E=n;if(E)for(var b,_=-1,P=E.length-1;_<P;)b=E[_+=1],p.schema=b,p.schemaPath=s+"["+_+"]",p.errSchemaPath=l+"/"+_,a+="  "+e.validate(p)+" ",p.baseId=g,a+=" "+d+" = "+d+" || "+m+"; if (!"+d+") { ",f+="}";e.compositeRule=p.compositeRule=y,a+=" "+f+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else u&&(a+=" if (true) { ");return a}},7812:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t,n=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?a+=" console.log("+n+");":"function"==typeof e.opts.$comment&&(a+=" self._opts.$comment("+n+", "+e.util.toQuotedString(o)+", validate.root.schema);"),a}},5306:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),d="valid"+i,h=e.opts.$data&&n&&n.$data;h&&(a+=" var schema"+i+" = "+e.util.getData(n.$data,o,e.dataPathArr)+"; "),h||(a+=" var schema"+i+" = validate.schema"+s+";"),a+="var "+d+" = equal("+c+", schema"+i+"); if (!"+d+") {   ";var p=p||[];p.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to constant' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var f=a;return a=p.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+f+"]); ":a+=" validate.errors = ["+f+"]; return false; ":a+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",u&&(a+=" else { "),a}},1969:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var f="valid"+p.level,m="i"+i,v=p.dataLevel=e.dataLevel+1,g="data"+v,y=e.baseId,E=e.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:e.util.schemaHasRules(n,e.RULES.all);if(a+="var "+h+" = errors;var "+d+";",E){var b=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=n,p.schemaPath=s,p.errSchemaPath=l,a+=" var "+f+" = false; for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var _=c+"["+m+"]";p.dataPathArr[v]=m;var P=e.validate(p);p.baseId=y,e.util.varOccurences(P,g)<2?a+=" "+e.util.varReplace(P,g,_)+" ":a+=" var "+g+" = "+_+"; "+P+" ",a+=" if ("+f+") break; }  ",e.compositeRule=p.compositeRule=b,a+="  if (!"+f+") {"}else a+=" if ("+c+".length == 0) {";var w=w||[];w.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should contain a valid item' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var S=a;return a=w.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+S+"]); ":a+=" validate.errors = ["+S+"]; return false; ":a+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",E&&(a+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(a+=" } "),a}},4165:e=>{"use strict";e.exports=function(e,t,r){var a,i,o=" ",n=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,h="data"+(s||""),p="valid"+n,f="errs__"+n,m=e.opts.$data&&l&&l.$data;m?(o+=" var schema"+n+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+n):i=l;var v,g,y,E,b,_=this,P="definition"+n,w=_.definition,S="";if(m&&w.$data){b="keywordValidate"+n;var x=w.validateSchema;o+=" var "+P+" = RULES.custom['"+t+"'].definition; var "+b+" = "+P+".validate;"}else{if(!(E=e.useCustomRule(_,l,e.schema,e)))return;i="validate.schema"+u,b=E.code,v=w.compile,g=w.inline,y=w.macro}var A=b+".errors",T="i"+n,R="ruleErr"+n,I=w.async;if(I&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(o+=A+" = null;"),o+="var "+f+" = errors;var "+p+";",m&&w.$data&&(S+="}",o+=" if ("+i+" === undefined) { "+p+" = true; } else { ",x&&(S+="}",o+=" "+p+" = "+P+".validateSchema("+i+"); if ("+p+") { ")),g)w.statements?o+=" "+E.validate+" ":o+=" "+p+" = "+E.validate+"; ";else if(y){var O=e.util.copy(e);S="",O.level++;var C="valid"+O.level;O.schema=E.validate,O.schemaPath="";var L=e.compositeRule;e.compositeRule=O.compositeRule=!0;var D=e.validate(O).replace(/validate\.schema/g,b);e.compositeRule=O.compositeRule=L,o+=" "+D}else{(k=k||[]).push(o),o="",o+="  "+b+".call( ",e.opts.passContext?o+="this":o+="self",v||!1===w.schema?o+=" , "+h+" ":o+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var F=s?"data"+(s-1||""):"parentData",j=s?e.dataPathArr[s]:"parentDataProperty",N=o+=" , "+F+" , "+j+" , rootData )  ";o=k.pop(),!1===w.errors?(o+=" "+p+" = ",I&&(o+="await "),o+=N+"; "):o+=I?" var "+(A="customErrors"+n)+" = null; try { "+p+" = await "+N+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+A+" = e.errors; else throw e; } ":" "+A+" = null; "+p+" = "+N+"; "}if(w.modifying&&(o+=" if ("+F+") "+h+" = "+F+"["+j+"];"),o+=""+S,w.valid)d&&(o+=" if (true) { ");else{var k;o+=" if ( ",void 0===w.valid?(o+=" !",o+=y?""+C:""+p):o+=" "+!w.valid+" ",o+=") { ",a=_.keyword,(k=k||[]).push(o),o="",(k=k||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+_.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+_.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var M=o;o=k.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+M+"]); ":o+=" validate.errors = ["+M+"]; return false; ":o+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var $=o;o=k.pop(),g?w.errors?"full"!=w.errors&&(o+="  for (var "+T+"="+f+"; "+T+"<errors; "+T+"++) { var "+R+" = vErrors["+T+"]; if ("+R+".dataPath === undefined) "+R+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+R+".schemaPath === undefined) { "+R+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+R+".schema = "+i+"; "+R+".data = "+h+"; "),o+=" } "):!1===w.errors?o+=" "+$+" ":(o+=" if ("+f+" == errors) { "+$+" } else {  for (var "+T+"="+f+"; "+T+"<errors; "+T+"++) { var "+R+" = vErrors["+T+"]; if ("+R+".dataPath === undefined) "+R+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+R+".schemaPath === undefined) { "+R+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(o+=" "+R+".schema = "+i+"; "+R+".data = "+h+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+_.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+_.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===w.errors?o+=" "+$+" ":(o+=" if (Array.isArray("+A+")) { if (vErrors === null) vErrors = "+A+"; else vErrors = vErrors.concat("+A+"); errors = vErrors.length;  for (var "+T+"="+f+"; "+T+"<errors; "+T+"++) { var "+R+" = vErrors["+T+"]; if ("+R+".dataPath === undefined) "+R+".dataPath = (dataPath || '') + "+e.errorPath+";  "+R+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(o+=" "+R+".schema = "+i+"; "+R+".data = "+h+"; "),o+=" } } else { "+$+" } "),o+=" } ",d&&(o+=" else { ")}return o}},6659:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),d="errs__"+i,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m={},v={},g=e.opts.ownProperties;for(_ in n)if("__proto__"!=_){var y=n[_],E=Array.isArray(y)?v:m;E[_]=y}a+="var "+d+" = errors;";var b=e.errorPath;for(var _ in a+="var missing"+i+";",v)if((E=v[_]).length){if(a+=" if ( "+c+e.util.getProperty(_)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(_)+"') "),u){a+=" && ( ";var P=E;if(P)for(var w=-1,S=P.length-1;w<S;)O=P[w+=1],w&&(a+=" || "),a+=" ( ( "+(F=c+(D=e.util.getProperty(O)))+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(O)+"') "),a+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?O:D)+") ) ";a+=")) {  ";var x="missing"+i,A="' + "+x+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,x,!0):b+" + "+x);var T=T||[];T.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(_)+"', missingProperty: '"+A+"', depsCount: "+E.length+", deps: '"+e.util.escapeQuotes(1==E.length?E[0]:E.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==E.length?a+="property "+e.util.escapeQuotes(E[0]):a+="properties "+e.util.escapeQuotes(E.join(", ")),a+=" when property "+e.util.escapeQuotes(_)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var R=a;a=T.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+R+"]); ":a+=" validate.errors = ["+R+"]; return false; ":a+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var I=E;if(I)for(var O,C=-1,L=I.length-1;C<L;){O=I[C+=1];var D=e.util.getProperty(O),F=(A=e.util.escapeQuotes(O),c+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,O,e.opts.jsonPointers)),a+=" if ( "+F+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(O)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(_)+"', missingProperty: '"+A+"', depsCount: "+E.length+", deps: '"+e.util.escapeQuotes(1==E.length?E[0]:E.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==E.length?a+="property "+e.util.escapeQuotes(E[0]):a+="properties "+e.util.escapeQuotes(E.join(", ")),a+=" when property "+e.util.escapeQuotes(_)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",u&&(p+="}",a+=" else { ")}e.errorPath=b;var j=h.baseId;for(var _ in m)y=m[_],(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(a+=" "+f+" = true; if ( "+c+e.util.getProperty(_)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(_)+"') "),a+=") { ",h.schema=y,h.schemaPath=s+e.util.getProperty(_),h.errSchemaPath=l+"/"+e.util.escapeFragment(_),a+="  "+e.validate(h)+" ",h.baseId=j,a+=" }  ",u&&(a+=" if ("+f+") { ",p+="}"));return u&&(a+="   "+p+" if ("+d+" == errors) {"),a}},1740:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),d="valid"+i,h=e.opts.$data&&n&&n.$data;h&&(a+=" var schema"+i+" = "+e.util.getData(n.$data,o,e.dataPathArr)+"; ");var p="i"+i,f="schema"+i;h||(a+=" var "+f+" = validate.schema"+s+";"),a+="var "+d+";",h&&(a+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),a+=d+" = false;for (var "+p+"=0; "+p+"<"+f+".length; "+p+"++) if (equal("+c+", "+f+"["+p+"])) { "+d+" = true; break; }",h&&(a+="  }  "),a+=" if (!"+d+") {   ";var m=m||[];m.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var v=a;return a=m.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",u&&(a+=" else { "),a}},9014:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||"");if(!1===e.opts.format)return u&&(a+=" if (true) { "),a;var d,h=e.opts.$data&&n&&n.$data;h?(a+=" var schema"+i+" = "+e.util.getData(n.$data,o,e.dataPathArr)+"; ",d="schema"+i):d=n;var p=e.opts.unknownFormats,f=Array.isArray(p);if(h)a+=" var "+(m="format"+i)+" = formats["+d+"]; var "+(v="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(g="formatType"+i)+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",e.async&&(a+=" var async"+i+" = "+m+".async; "),a+=" "+m+" = "+m+".validate; } if (  ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),a+=" (","ignore"!=p&&(a+=" ("+d+" && !"+m+" ",f&&(a+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),a+=") || "),a+=" ("+m+" && "+g+" == '"+r+"' && !(typeof "+m+" == 'function' ? ",e.async?a+=" (async"+i+" ? await "+m+"("+c+") : "+m+"("+c+")) ":a+=" "+m+"("+c+") ",a+=" : "+m+".test("+c+"))))) {";else{var m;if(!(m=e.formats[n])){if("ignore"==p)return e.logger.warn('unknown format "'+n+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(a+=" if (true) { "),a;if(f&&p.indexOf(n)>=0)return u&&(a+=" if (true) { "),a;throw new Error('unknown format "'+n+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,g=(v="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(v){var y=!0===m.async;m=m.validate}if(g!=r)return u&&(a+=" if (true) { "),a;if(y){if(!e.async)throw new Error("async format in sync schema");a+=" if (!(await "+(E="formats"+e.util.getProperty(n)+".validate")+"("+c+"))) { "}else{a+=" if (! ";var E="formats"+e.util.getProperty(n);v&&(E+=".validate"),a+="function"==typeof m?" "+E+"("+c+") ":" "+E+".test("+c+") ",a+=") { "}}var b=b||[];b.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",a+=h?""+d:""+e.util.toQuotedString(n),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match format \"",a+=h?"' + "+d+" + '":""+e.util.escapeQuotes(n),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=h?"validate.schema"+s:""+e.util.toQuotedString(n),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var _=a;return a=b.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+_+"]); ":a+=" validate.errors = ["+_+"]; return false; ":a+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",u&&(a+=" else { "),a}},7231:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e);p.level++;var f="valid"+p.level,m=e.schema.then,v=e.schema.else,g=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),y=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all)),E=p.baseId;if(g||y){var b;p.createErrors=!1,p.schema=n,p.schemaPath=s,p.errSchemaPath=l,a+=" var "+h+" = errors; var "+d+" = true;  ";var _=e.compositeRule;e.compositeRule=p.compositeRule=!0,a+="  "+e.validate(p)+" ",p.baseId=E,p.createErrors=!0,a+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=_,g?(a+=" if ("+f+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",a+="  "+e.validate(p)+" ",p.baseId=E,a+=" "+d+" = "+f+"; ",g&&y?a+=" var "+(b="ifClause"+i)+" = 'then'; ":b="'then'",a+=" } ",y&&(a+=" else { ")):a+=" if (!"+f+") { ",y&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",a+="  "+e.validate(p)+" ",p.baseId=E,a+=" "+d+" = "+f+"; ",g&&y?a+=" var "+(b="ifClause"+i)+" = 'else'; ":b="'else'",a+=" } "),a+=" if (!"+d+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+b+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match \"' + "+b+" + '\" schema' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" }   ",u&&(a+=" else { ")}else u&&(a+=" if (true) { ");return a}},6674:(e,t,r)=>{"use strict";e.exports={$ref:r(2392),allOf:r(2988),anyOf:r(9996),$comment:r(7812),const:r(5306),contains:r(1969),dependencies:r(6659),enum:r(1740),format:r(9014),if:r(7231),items:r(7482),maximum:r(8210),minimum:r(8210),maxItems:r(3038),minItems:r(3038),maxLength:r(425),minLength:r(425),maxProperties:r(8204),minProperties:r(8204),multipleOf:r(3673),not:r(8528),oneOf:r(9709),pattern:r(9614),properties:r(1175),propertyNames:r(8441),required:r(1287),uniqueItems:r(3603),validate:r(9508)}},7482:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,v="i"+i,g=p.dataLevel=e.dataLevel+1,y="data"+g,E=e.baseId;if(a+="var "+h+" = errors;var "+d+";",Array.isArray(n)){var b=e.schema.additionalItems;if(!1===b){a+=" "+d+" = "+c+".length <= "+n.length+"; ";var _=l;l=e.errSchemaPath+"/additionalItems",a+="  if (!"+d+") {   ";var P=P||[];P.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+n.length+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have more than "+n.length+" items' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var w=a;a=P.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+w+"]); ":a+=" validate.errors = ["+w+"]; return false; ":a+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l=_,u&&(f+="}",a+=" else { ")}var S=n;if(S)for(var x,A=-1,T=S.length-1;A<T;)if(x=S[A+=1],e.opts.strictKeywords?"object"==typeof x&&Object.keys(x).length>0||!1===x:e.util.schemaHasRules(x,e.RULES.all)){a+=" "+m+" = true; if ("+c+".length > "+A+") { ";var R=c+"["+A+"]";p.schema=x,p.schemaPath=s+"["+A+"]",p.errSchemaPath=l+"/"+A,p.errorPath=e.util.getPathExpr(e.errorPath,A,e.opts.jsonPointers,!0),p.dataPathArr[g]=A;var I=e.validate(p);p.baseId=E,e.util.varOccurences(I,y)<2?a+=" "+e.util.varReplace(I,y,R)+" ":a+=" var "+y+" = "+R+"; "+I+" ",a+=" }  ",u&&(a+=" if ("+m+") { ",f+="}")}"object"==typeof b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))&&(p.schema=b,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",a+=" "+m+" = true; if ("+c+".length > "+n.length+") {  for (var "+v+" = "+n.length+"; "+v+" < "+c+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),R=c+"["+v+"]",p.dataPathArr[g]=v,I=e.validate(p),p.baseId=E,e.util.varOccurences(I,y)<2?a+=" "+e.util.varReplace(I,y,R)+" ":a+=" var "+y+" = "+R+"; "+I+" ",u&&(a+=" if (!"+m+") break; "),a+=" } }  ",u&&(a+=" if ("+m+") { ",f+="}"))}else(e.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:e.util.schemaHasRules(n,e.RULES.all))&&(p.schema=n,p.schemaPath=s,p.errSchemaPath=l,a+="  for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),R=c+"["+v+"]",p.dataPathArr[g]=v,I=e.validate(p),p.baseId=E,e.util.varOccurences(I,y)<2?a+=" "+e.util.varReplace(I,y,R)+" ":a+=" var "+y+" = "+R+"; "+I+" ",u&&(a+=" if (!"+m+") break; "),a+=" }");return u&&(a+=" "+f+" if ("+h+" == errors) {"),a}},3673:e=>{"use strict";e.exports=function(e,t,r){var a,i=" ",o=e.level,n=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(n||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,n,e.dataPathArr)+"; ",a="schema"+o):a=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");i+="var division"+o+";if (",h&&(i+=" "+a+" !== undefined && ( typeof "+a+" != 'number' || "),i+=" (division"+o+" = "+d+" / "+a+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+a+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+a:a+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},8528:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),d="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:e.util.schemaHasRules(n,e.RULES.all)){h.schema=n,h.schemaPath=s,h.errSchemaPath=l,a+=" var "+d+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(f=h.opts.allErrors,h.opts.allErrors=!1),a+=" "+e.validate(h)+" ",h.createErrors=!0,f&&(h.opts.allErrors=f),e.compositeRule=h.compositeRule=m,a+=" if ("+p+") {   ";var v=v||[];v.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(a+=" if (false) { ");return a}},9709:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),d="valid"+i,h="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,v=p.baseId,g="prevValid"+i,y="passingSchemas"+i;a+="var "+h+" = errors , "+g+" = false , "+d+" = false , "+y+" = null; ";var E=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=n;if(b)for(var _,P=-1,w=b.length-1;P<w;)_=b[P+=1],(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:e.util.schemaHasRules(_,e.RULES.all))?(p.schema=_,p.schemaPath=s+"["+P+"]",p.errSchemaPath=l+"/"+P,a+="  "+e.validate(p)+" ",p.baseId=v):a+=" var "+m+" = true; ",P&&(a+=" if ("+m+" && "+g+") { "+d+" = false; "+y+" = ["+y+", "+P+"]; } else { ",f+="}"),a+=" if ("+m+") { "+d+" = "+g+" = true; "+y+" = "+P+"; }";return e.compositeRule=p.compositeRule=E,a+=f+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(a+=" } "),a}},9614:e=>{"use strict";e.exports=function(e,t,r){var a,i=" ",o=e.level,n=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(n||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+o+" = "+e.util.getData(s.$data,n,e.dataPathArr)+"; ",a="schema"+o):a=s,i+="if ( ",h&&(i+=" ("+a+" !== undefined && typeof "+a+" != 'string') || "),i+=" !"+(h?"(new RegExp("+a+"))":e.usePattern(s))+".test("+d+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",i+=h?""+a:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+a+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+l:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},1175:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),d="errs__"+i,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m="key"+i,v="idx"+i,g=h.dataLevel=e.dataLevel+1,y="data"+g,E="dataProperties"+i,b=Object.keys(n||{}).filter(D),_=e.schema.patternProperties||{},P=Object.keys(_).filter(D),w=e.schema.additionalProperties,S=b.length||P.length,x=!1===w,A="object"==typeof w&&Object.keys(w).length,T=e.opts.removeAdditional,R=x||A||T,I=e.opts.ownProperties,O=e.baseId,C=e.schema.required;if(C&&(!e.opts.$data||!C.$data)&&C.length<e.opts.loopRequired)var L=e.util.toHash(C);function D(e){return"__proto__"!==e}if(a+="var "+d+" = errors;var "+f+" = true;",I&&(a+=" var "+E+" = undefined;"),R){if(a+=I?" "+E+" = "+E+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+E+".length; "+v+"++) { var "+m+" = "+E+"["+v+"]; ":" for (var "+m+" in "+c+") { ",S){if(a+=" var isAdditional"+i+" = !(false ",b.length)if(b.length>8)a+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var F=b;if(F)for(var j=-1,N=F.length-1;j<N;)W=F[j+=1],a+=" || "+m+" == "+e.util.toQuotedString(W)+" "}if(P.length){var k=P;if(k)for(var M=-1,$=k.length-1;M<$;)oe=k[M+=1],a+=" || "+e.usePattern(oe)+".test("+m+") "}a+=" ); if (isAdditional"+i+") { "}if("all"==T)a+=" delete "+c+"["+m+"]; ";else{var U=e.errorPath,z="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),x)if(T)a+=" delete "+c+"["+m+"]; ";else{a+=" "+f+" = false; ";var H=l;l=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+z+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var B=a;a=re.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+B+"]); ":a+=" validate.errors = ["+B+"]; return false; ":a+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=H,u&&(a+=" break; ")}else if(A)if("failing"==T){a+=" var "+d+" = errors;  ";var V=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=w,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var G=c+"["+m+"]";h.dataPathArr[g]=m;var q=e.validate(h);h.baseId=O,e.util.varOccurences(q,y)<2?a+=" "+e.util.varReplace(q,y,G)+" ":a+=" var "+y+" = "+G+"; "+q+" ",a+=" if (!"+f+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=h.compositeRule=V}else h.schema=w,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),G=c+"["+m+"]",h.dataPathArr[g]=m,q=e.validate(h),h.baseId=O,e.util.varOccurences(q,y)<2?a+=" "+e.util.varReplace(q,y,G)+" ":a+=" var "+y+" = "+G+"; "+q+" ",u&&(a+=" if (!"+f+") break; ");e.errorPath=U}S&&(a+=" } "),a+=" }  ",u&&(a+=" if ("+f+") { ",p+="}")}var K=e.opts.useDefaults&&!e.compositeRule;if(b.length){var Q=b;if(Q)for(var W,Y=-1,Z=Q.length-1;Y<Z;){var J=n[W=Q[Y+=1]];if(e.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0||!1===J:e.util.schemaHasRules(J,e.RULES.all)){var X=e.util.getProperty(W),ee=(G=c+X,K&&void 0!==J.default);if(h.schema=J,h.schemaPath=s+X,h.errSchemaPath=l+"/"+e.util.escapeFragment(W),h.errorPath=e.util.getPath(e.errorPath,W,e.opts.jsonPointers),h.dataPathArr[g]=e.util.toQuotedString(W),q=e.validate(h),h.baseId=O,e.util.varOccurences(q,y)<2){q=e.util.varReplace(q,y,G);var te=G}else te=y,a+=" var "+y+" = "+G+"; ";if(ee)a+=" "+q+" ";else{if(L&&L[W]){a+=" if ( "+te+" === undefined ",I&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(W)+"') "),a+=") { "+f+" = false; ",U=e.errorPath,H=l;var re,ae=e.util.escapeQuotes(W);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(U,W,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(re=re||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ae+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",B=a,a=re.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+B+"]); ":a+=" validate.errors = ["+B+"]; return false; ":a+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=H,e.errorPath=U,a+=" } else { "}else u?(a+=" if ( "+te+" === undefined ",I&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(W)+"') "),a+=") { "+f+" = true; } else { "):(a+=" if ("+te+" !== undefined ",I&&(a+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(W)+"') "),a+=" ) { ");a+=" "+q+" } "}}u&&(a+=" if ("+f+") { ",p+="}")}}if(P.length){var ie=P;if(ie)for(var oe,ne=-1,se=ie.length-1;ne<se;)J=_[oe=ie[ne+=1]],(e.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0||!1===J:e.util.schemaHasRules(J,e.RULES.all))&&(h.schema=J,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(oe),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(oe),a+=I?" "+E+" = "+E+" || Object.keys("+c+"); for (var "+v+"=0; "+v+"<"+E+".length; "+v+"++) { var "+m+" = "+E+"["+v+"]; ":" for (var "+m+" in "+c+") { ",a+=" if ("+e.usePattern(oe)+".test("+m+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),G=c+"["+m+"]",h.dataPathArr[g]=m,q=e.validate(h),h.baseId=O,e.util.varOccurences(q,y)<2?a+=" "+e.util.varReplace(q,y,G)+" ":a+=" var "+y+" = "+G+"; "+q+" ",u&&(a+=" if (!"+f+") break; "),a+=" } ",u&&(a+=" else "+f+" = true; "),a+=" }  ",u&&(a+=" if ("+f+") { ",p+="}"))}return u&&(a+=" "+p+" if ("+d+" == errors) {"),a}},8441:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),d="errs__"+i,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(a+="var "+d+" = errors;",e.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:e.util.schemaHasRules(n,e.RULES.all)){h.schema=n,h.schemaPath=s,h.errSchemaPath=l;var f="key"+i,m="idx"+i,v="i"+i,g="' + "+f+" + '",y="data"+(h.dataLevel=e.dataLevel+1),E="dataProperties"+i,b=e.opts.ownProperties,_=e.baseId;b&&(a+=" var "+E+" = undefined; "),a+=b?" "+E+" = "+E+" || Object.keys("+c+"); for (var "+m+"=0; "+m+"<"+E+".length; "+m+"++) { var "+f+" = "+E+"["+m+"]; ":" for (var "+f+" in "+c+") { ",a+=" var startErrs"+i+" = errors; ";var P=f,w=e.compositeRule;e.compositeRule=h.compositeRule=!0;var S=e.validate(h);h.baseId=_,e.util.varOccurences(S,y)<2?a+=" "+e.util.varReplace(S,y,P)+" ":a+=" var "+y+" = "+P+"; "+S+" ",e.compositeRule=h.compositeRule=w,a+=" if (!"+p+") { for (var "+v+"=startErrs"+i+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(a+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),u&&(a+=" break; "),a+=" } }"}return u&&(a+="  if ("+d+" == errors) {"),a}},2392:e=>{"use strict";e.exports=function(e,t,r){var a,i,o=" ",n=e.level,s=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(s||""),h="valid"+n;if("#"==l||"#/"==l)e.isRoot?(a=e.async,i="validate"):(a=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===p){var f=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(f),(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var m=o;o=y.pop(),!e.compositeRule&&c?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,f);e.logger.warn(f),c&&(o+=" if (true) { ")}}else if(p.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=p.schema,v.schemaPath="",v.errSchemaPath=l,o+=" "+e.validate(v).replace(/validate\.schema/g,p.code)+" ",c&&(o+=" if ("+g+") { ")}else a=!0===p.$async||e.async&&!1!==p.$async,i=p.code}if(i){var y;(y=y||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var E=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),a){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(o+=" var "+h+"; "),o+=" try { await "+E+"; ",c&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(o+=" "+h+" = false; "),o+=" } ",c&&(o+=" if ("+h+") { ")}else o+=" if (!"+E+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(o+=" else { ")}return o}},1287:e=>{"use strict";e.exports=function(e,t,r){var a=" ",i=e.level,o=e.dataLevel,n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(o||""),d="valid"+i,h=e.opts.$data&&n&&n.$data;h&&(a+=" var schema"+i+" = "+e.util.getData(n.$data,o,e.dataPathArr)+"; ");var p="schema"+i;if(!h)if(n.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],m=n;if(m)for(var v,g=-1,y=m.length-1;g<y;){v=m[g+=1];var E=e.schema.properties[v];E&&(e.opts.strictKeywords?"object"==typeof E&&Object.keys(E).length>0||!1===E:e.util.schemaHasRules(E,e.RULES.all))||(f[f.length]=v)}}else f=n;if(h||f.length){var b=e.errorPath,_=h||f.length>=e.opts.loopRequired,P=e.opts.ownProperties;if(u)if(a+=" var missing"+i+"; ",_){h||(a+=" var "+p+" = validate.schema"+s+"; ");var w="' + "+(I="schema"+i+"["+(T="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,I,e.opts.jsonPointers)),a+=" var "+d+" = true; ",h&&(a+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),a+=" for (var "+T+" = 0; "+T+" < "+p+".length; "+T+"++) { "+d+" = "+c+"["+p+"["+T+"]] !== undefined ",P&&(a+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+p+"["+T+"]) "),a+="; if (!"+d+") break; } ",h&&(a+="  }  "),a+="  if (!"+d+") {   ",(x=x||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+w+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var S=a;a=x.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+S+"]); ":a+=" validate.errors = ["+S+"]; return false; ":a+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var x,A=f;if(A)for(var T=-1,R=A.length-1;T<R;)C=A[T+=1],T&&(a+=" || "),a+=" ( ( "+(j=c+(F=e.util.getProperty(C)))+" === undefined ",P&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(C)+"') "),a+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:F)+") ) ";a+=") {  ",w="' + "+(I="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,I,!0):b+" + "+I),(x=x||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+w+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",S=a,a=x.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+S+"]); ":a+=" validate.errors = ["+S+"]; return false; ":a+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(_){var I;h||(a+=" var "+p+" = validate.schema"+s+"; "),w="' + "+(I="schema"+i+"["+(T="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,I,e.opts.jsonPointers)),h&&(a+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+w+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),a+=" for (var "+T+" = 0; "+T+" < "+p+".length; "+T+"++) { if ("+c+"["+p+"["+T+"]] === undefined ",P&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+p+"["+T+"]) "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+w+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(a+="  }  ")}else{var O=f;if(O)for(var C,L=-1,D=O.length-1;L<D;){C=O[L+=1];var F=e.util.getProperty(C),j=(w=e.util.escapeQuotes(C),c+F);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,C,e.opts.jsonPointers)),a+=" if ( "+j+" === undefined ",P&&(a+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(C)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+w+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+w+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else u&&(a+=" if (true) {");return a}},3603:e=>{"use strict";e.exports=function(e,t,r){var a,i=" ",o=e.level,n=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(n||""),h="valid"+o,p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+o+" = "+e.util.getData(s.$data,n,e.dataPathArr)+"; ",a="schema"+o):a=s,(s||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+h+"; if ("+a+" === false || "+a+" === undefined) "+h+" = true; else if (typeof "+a+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+d+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,m=Array.isArray(f);if(!f||"object"==f||"array"==f||m&&(f.indexOf("object")>=0||f.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var v="checkDataType"+(m?"s":"");i+=" if ("+e.util[v](f,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",p&&(i+="  }  "),i+=" if (!"+h+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},9508:e=>{"use strict";e.exports=function(e,t,r){var a="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),n=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var l="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(a+=" var validate = ",i&&(e.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",n&&(e.opts.sourceCode||e.opts.processCode)&&(a+=" /*# sourceURL="+n+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){t="false schema";var u=e.level,c=e.dataLevel,d=e.schema[t],h=e.schemaPath+e.util.getProperty(t),p=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,m="data"+(c||""),v="valid"+u;if(!1===e.schema){e.isTop?f=!0:a+=" var "+v+" = false; ",(G=G||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'boolean schema is false' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ";var g=a;a=G.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?a+=i?" return data; ":" validate.errors = null; return true; ":a+=" var "+v+" = true; ";return e.isTop&&(a+=" }; return validate; "),a}if(e.isTop){var y=e.isTop;if(u=e.level=0,c=e.dataLevel=0,m="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var E="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(E);e.logger.warn(E)}a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{if(u=e.level,m="data"+((c=e.dataLevel)||""),n&&(e.baseId=e.resolve.url(e.baseId,n)),i&&!e.async)throw new Error("async schema in sync schema");a+=" var errs_"+u+" = errors;"}v="valid"+u,f=!e.opts.allErrors;var b="",_="",P=e.schema.type,w=Array.isArray(P);if(P&&e.opts.nullable&&!0===e.schema.nullable&&(w?-1==P.indexOf("null")&&(P=P.concat("null")):"null"!=P&&(P=[P,"null"],w=!0)),w&&1==P.length&&(P=P[0],w=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(a+=" "+e.RULES.all.$comment.code(e,"$comment")),P){if(e.opts.coerceTypes)var S=e.util.coerceToTypes(e.opts.coerceTypes,P);var x=e.RULES.types[P];if(S||w||!0===x||x&&!Z(x)){h=e.schemaPath+".type",p=e.errSchemaPath+"/type",h=e.schemaPath+".type",p=e.errSchemaPath+"/type";var A=w?"checkDataTypes":"checkDataType";if(a+=" if ("+e.util[A](P,m,e.opts.strictNumbers,!0)+") { ",S){var T="dataType"+u,R="coerced"+u;a+=" var "+T+" = typeof "+m+"; var "+R+" = undefined; ","array"==e.opts.coerceTypes&&(a+=" if ("+T+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+T+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+R+" = "+m+"; } "),a+=" if ("+R+" !== undefined) ; ";var I=S;if(I)for(var O,C=-1,L=I.length-1;C<L;)"string"==(O=I[C+=1])?a+=" else if ("+T+" == 'number' || "+T+" == 'boolean') "+R+" = '' + "+m+"; else if ("+m+" === null) "+R+" = ''; ":"number"==O||"integer"==O?(a+=" else if ("+T+" == 'boolean' || "+m+" === null || ("+T+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==O&&(a+=" && !("+m+" % 1)"),a+=")) "+R+" = +"+m+"; "):"boolean"==O?a+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+R+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+R+" = true; ":"null"==O?a+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+R+" = null; ":"array"==e.opts.coerceTypes&&"array"==O&&(a+=" else if ("+T+" == 'string' || "+T+" == 'number' || "+T+" == 'boolean' || "+m+" == null) "+R+" = ["+m+"]; ");a+=" else {   ",(G=G||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",a+=w?""+P.join(","):""+P,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=w?""+P.join(","):""+P,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ",g=a,a=G.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } if ("+R+" !== undefined) {  ";var D=c?"data"+(c-1||""):"parentData";a+=" "+m+" = "+R+"; ",c||(a+="if ("+D+" !== undefined)"),a+=" "+D+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+R+"; } "}else(G=G||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",a+=w?""+P.join(","):""+P,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=w?""+P.join(","):""+P,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ",g=a,a=G.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";a+=" } "}}if(e.schema.$ref&&!o)a+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",f&&(a+=" } if (errors === ",a+=y?"0":"errs_"+u,a+=") { ",_+="}");else{var F=e.RULES;if(F)for(var j=-1,N=F.length-1;j<N;)if(Z(x=F[j+=1])){if(x.type&&(a+=" if ("+e.util.checkDataType(x.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==x.type&&e.schema.properties){d=e.schema.properties;var k=Object.keys(d);if(k)for(var M,$=-1,U=k.length-1;$<U;)if(void 0!==(B=d[M=k[$+=1]]).default){var z=m+e.util.getProperty(M);if(e.compositeRule){if(e.opts.strictDefaults){if(E="default is ignored for: "+z,"log"!==e.opts.strictDefaults)throw new Error(E);e.logger.warn(E)}}else a+=" if ("+z+" === undefined ","empty"==e.opts.useDefaults&&(a+=" || "+z+" === null || "+z+" === '' "),a+=" ) "+z+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(B.default)+" ":a+=" "+JSON.stringify(B.default)+" ",a+="; "}}else if("array"==x.type&&Array.isArray(e.schema.items)){var H=e.schema.items;if(H){C=-1;for(var B,V=H.length-1;C<V;)if(void 0!==(B=H[C+=1]).default)if(z=m+"["+C+"]",e.compositeRule){if(e.opts.strictDefaults){if(E="default is ignored for: "+z,"log"!==e.opts.strictDefaults)throw new Error(E);e.logger.warn(E)}}else a+=" if ("+z+" === undefined ","empty"==e.opts.useDefaults&&(a+=" || "+z+" === null || "+z+" === '' "),a+=" ) "+z+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(B.default)+" ":a+=" "+JSON.stringify(B.default)+" ",a+="; "}}var G,q=x.rules;if(q)for(var K,Q=-1,W=q.length-1;Q<W;)if(J(K=q[Q+=1])){var Y=K.code(e,K.keyword,x.type);Y&&(a+=" "+Y+" ",f&&(b+="}"))}if(f&&(a+=" "+b+" ",b=""),x.type&&(a+=" } ",P&&P===x.type&&!S))a+=" else { ",h=e.schemaPath+".type",p=e.errSchemaPath+"/type",(G=G||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",a+=w?""+P.join(","):""+P,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=w?""+P.join(","):""+P,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ",g=a,a=G.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ";f&&(a+=" if (errors === ",a+=y?"0":"errs_"+u,a+=") { ",_+="}")}}function Z(e){for(var t=e.rules,r=0;r<t.length;r++)if(J(t[r]))return!0}function J(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,a=0;a<r.length;a++)if(void 0!==e.schema[r[a]])return!0}(t)}return f&&(a+=" "+_+" "),y?(i?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }; return validate;"):a+=" var "+v+" = errors === errs_"+u+";",a}},4895:(e,t,r)=>{"use strict";var a=/^[a-z_$][a-z0-9_$-]*$/i,i=r(4165),o=r(1128);e.exports={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!a.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var n=0;n<o.length;n++)l(e,o[n],t);else l(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function l(e,t,a){for(var o,n=0;n<r.length;n++){var s=r[n];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},r.push(o));var l={keyword:e,definition:a,custom:!0,code:i,implements:a.implements};o.rules.push(l),r.custom[e]=l}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var a=t[r].rules,i=0;i<a.length;i++)if(a[i].keyword==e){a.splice(i,1);break}return this},validate:function e(t,r){e.errors=null;var a=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(a(t))return!0;if(e.errors=a.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(a.errors));return!1}}},3536:(e,t,r)=>{var a=r(1910);e.exports=a},5367:(e,t,r)=>{r(5906);var a=r(5703);e.exports=a("Array").concat},2383:(e,t,r)=>{r(1501);var a=r(5703);e.exports=a("Array").filter},7671:(e,t,r)=>{r(833);var a=r(5703);e.exports=a("Array").find},9324:(e,t,r)=>{r(2437);var a=r(5703);e.exports=a("Array").forEach},991:(e,t,r)=>{r(7690);var a=r(5703);e.exports=a("Array").includes},8700:(e,t,r)=>{r(9076);var a=r(5703);e.exports=a("Array").indexOf},3824:(e,t,r)=>{r(6026);var a=r(5703);e.exports=a("Array").some},8209:(e,t,r)=>{r(8611);var a=r(5703);e.exports=a("Array").splice},7700:(e,t,r)=>{r(3381);var a=r(5703);e.exports=a("Function").bind},6246:(e,t,r)=>{var a=r(7046),i=r(7700),o=Function.prototype;e.exports=function(e){var t=e.bind;return e===o||a(o,e)&&t===o.bind?i:t}},6043:(e,t,r)=>{var a=r(7046),i=r(5367),o=Array.prototype;e.exports=function(e){var t=e.concat;return e===o||a(o,e)&&t===o.concat?i:t}},2480:(e,t,r)=>{var a=r(7046),i=r(2383),o=Array.prototype;e.exports=function(e){var t=e.filter;return e===o||a(o,e)&&t===o.filter?i:t}},2236:(e,t,r)=>{var a=r(7046),i=r(7671),o=Array.prototype;e.exports=function(e){var t=e.find;return e===o||a(o,e)&&t===o.find?i:t}},8557:(e,t,r)=>{var a=r(7046),i=r(991),o=r(1631),n=Array.prototype,s=String.prototype;e.exports=function(e){var t=e.includes;return e===n||a(n,e)&&t===n.includes?i:"string"==typeof e||e===s||a(s,e)&&t===s.includes?o:t}},4570:(e,t,r)=>{var a=r(7046),i=r(8700),o=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===o||a(o,e)&&t===o.indexOf?i:t}},8299:(e,t,r)=>{var a=r(7046),i=r(3824),o=Array.prototype;e.exports=function(e){var t=e.some;return e===o||a(o,e)&&t===o.some?i:t}},8339:(e,t,r)=>{var a=r(7046),i=r(8209),o=Array.prototype;e.exports=function(e){var t=e.splice;return e===o||a(o,e)&&t===o.splice?i:t}},1688:(e,t,r)=>{var a=r(7046),i=r(1633),o=String.prototype;e.exports=function(e){var t=e.trimEnd;return"string"==typeof e||e===o||a(o,e)&&t===o.trimEnd?i:t}},4426:(e,t,r)=>{r(2619);var a=r(4058),i=r(9730);a.JSON||(a.JSON={stringify:JSON.stringify}),e.exports=function(e,t,r){return i(a.JSON.stringify,null,arguments)}},5999:(e,t,r)=>{r(9221);var a=r(4058);e.exports=a.Object.assign},7702:(e,t,r)=>{r(4979);var a=r(4058).Object,i=e.exports=function(e,t){return a.defineProperties(e,t)};a.defineProperties.sham&&(i.sham=!0)},8171:(e,t,r)=>{r(6450);var a=r(4058).Object,i=e.exports=function(e,t,r){return a.defineProperty(e,t,r)};a.defineProperty.sham&&(i.sham=!0)},286:(e,t,r)=>{r(6924);var a=r(4058).Object,i=e.exports=function(e,t){return a.getOwnPropertyDescriptor(e,t)};a.getOwnPropertyDescriptor.sham&&(i.sham=!0)},2766:(e,t,r)=>{r(8482);var a=r(4058);e.exports=a.Object.getOwnPropertyDescriptors},498:(e,t,r)=>{r(5824);var a=r(4058);e.exports=a.Object.getOwnPropertySymbols},8494:(e,t,r)=>{r(1724);var a=r(4058);e.exports=a.Object.keys},8430:(e,t,r)=>{r(6614);var a=r(4058);e.exports=a.Object.values},2956:(e,t,r)=>{r(7627),r(6274),r(5967),r(8881),r(4560),r(7206),r(4349),r(7971);var a=r(4058);e.exports=a.Promise},1631:(e,t,r)=>{r(1035);var a=r(5703);e.exports=a("String").includes},1633:(e,t,r)=>{r(2651);var a=r(5703);e.exports=a("String").trimRight},2304:(e,t,r)=>{r(6274),r(5967),r(4334);var a=r(4058);e.exports=a.WeakMap},9567:(e,t,r)=>{r(6274),r(5967),r(1773);var a=r(4058);e.exports=a.WeakSet},3685:(e,t,r)=>{e.exports=r(621)},621:(e,t,r)=>{var a=r(3536);e.exports=a},4883:(e,t,r)=>{var a=r(1899),i=r(7475),o=r(9826),n=a.TypeError;e.exports=function(e){if(i(e))return e;throw n(o(e)+" is not a function")}},174:(e,t,r)=>{var a=r(1899),i=r(4284),o=r(9826),n=a.TypeError;e.exports=function(e){if(i(e))return e;throw n(o(e)+" is not a constructor")}},1851:(e,t,r)=>{var a=r(1899),i=r(7475),o=a.String,n=a.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw n("Can't set "+o(e)+" as a prototype")}},8479:e=>{e.exports=function(){}},5743:(e,t,r)=>{var a=r(1899),i=r(7046),o=a.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw o("Incorrect invocation")}},6059:(e,t,r)=>{var a=r(1899),i=r(941),o=a.String,n=a.TypeError;e.exports=function(e){if(i(e))return e;throw n(o(e)+" is not an object")}},7135:(e,t,r)=>{var a=r(5981);e.exports=a((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},6837:(e,t,r)=>{"use strict";var a=r(3610).forEach,i=r(4194)("forEach");e.exports=i?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},1692:(e,t,r)=>{var a=r(4529),i=r(9413),o=r(623),n=function(e){return function(t,r,n){var s,l=a(t),u=o(l),c=i(n,u);if(e&&r!=r){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:n(!0),indexOf:n(!1)}},3610:(e,t,r)=>{var a=r(6843),i=r(5329),o=r(7026),n=r(9678),s=r(623),l=r(4692),u=i([].push),c=function(e){var t=1==e,r=2==e,i=3==e,c=4==e,d=6==e,h=7==e,p=5==e||d;return function(f,m,v,g){for(var y,E,b=n(f),_=o(b),P=a(m,v),w=s(_),S=0,x=g||l,A=t?x(f,w):r||h?x(f,0):void 0;w>S;S++)if((p||S in _)&&(E=P(y=_[S],S,b),e))if(t)A[S]=E;else if(E)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:u(A,y)}else switch(e){case 4:return!1;case 7:u(A,y)}return d?-1:i||c?c:A}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},568:(e,t,r)=>{var a=r(5981),i=r(9813),o=r(3385),n=i("species");e.exports=function(e){return o>=51||!a((function(){var t=[];return(t.constructor={})[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4194:(e,t,r)=>{"use strict";var a=r(5981);e.exports=function(e,t){var r=[][e];return!!r&&a((function(){r.call(null,t||function(){return 1},1)}))}},5790:(e,t,r)=>{var a=r(1899),i=r(9413),o=r(623),n=r(5449),s=a.Array,l=Math.max;e.exports=function(e,t,r){for(var a=o(e),u=i(t,a),c=i(void 0===r?a:r,a),d=s(l(c-u,0)),h=0;u<c;u++,h++)n(d,h,e[u]);return d.length=h,d}},3765:(e,t,r)=>{var a=r(5329);e.exports=a([].slice)},5693:(e,t,r)=>{var a=r(1899),i=r(1052),o=r(4284),n=r(941),s=r(9813)("species"),l=a.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(o(t)&&(t===l||i(t.prototype))||n(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?l:t}},4692:(e,t,r)=>{var a=r(5693);e.exports=function(e,t){return new(a(e))(0===t?0:t)}},1385:(e,t,r)=>{var a=r(9813)("iterator"),i=!1;try{var o=0,n={next:function(){return{done:!!o++}},return:function(){i=!0}};n[a]=function(){return this},Array.from(n,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[a]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},2532:(e,t,r)=>{var a=r(5329),i=a({}.toString),o=a("".slice);e.exports=function(e){return o(i(e),8,-1)}},9697:(e,t,r)=>{var a=r(1899),i=r(2885),o=r(7475),n=r(2532),s=r(9813)("toStringTag"),l=a.Object,u="Arguments"==n(function(){return arguments}());e.exports=i?n:function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=l(e),s))?r:u?n(t):"Object"==(a=n(t))&&o(t.callee)?"Arguments":a}},8694:(e,t,r)=>{var a=r(5329),i=Error,o=a("".replace),n=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(n);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=o(e,s,"");return e}},8850:(e,t,r)=>{"use strict";var a=r(5329),i=r(7524),o=r(1647).getWeakData,n=r(6059),s=r(941),l=r(5743),u=r(3091),c=r(3610),d=r(953),h=r(5402),p=h.set,f=h.getterFor,m=c.find,v=c.findIndex,g=a([].splice),y=0,E=function(e){return e.frozen||(e.frozen=new b)},b=function(){this.entries=[]},_=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};b.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var r=_(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,(function(t){return t[0]===e}));return~t&&g(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,r,a){var c=e((function(e,i){l(e,h),p(e,{type:t,id:y++,frozen:void 0}),null!=i&&u(i,e[a],{that:e,AS_ENTRIES:r})})),h=c.prototype,m=f(t),v=function(e,t,r){var a=m(e),i=o(n(t),!0);return!0===i?E(a).set(t,r):i[a.id]=r,e};return i(h,{delete:function(e){var t=m(this);if(!s(e))return!1;var r=o(e);return!0===r?E(t).delete(e):r&&d(r,t.id)&&delete r[t.id]},has:function(e){var t=m(this);if(!s(e))return!1;var r=o(e);return!0===r?E(t).has(e):r&&d(r,t.id)}}),i(h,r?{get:function(e){var t=m(this);if(s(e)){var r=o(e);return!0===r?E(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),c}}},4683:(e,t,r)=>{"use strict";var a=r(6887),i=r(1899),o=r(1647),n=r(5981),s=r(2029),l=r(3091),u=r(5743),c=r(7475),d=r(941),h=r(904),p=r(5988).f,f=r(3610).forEach,m=r(5746),v=r(5402),g=v.set,y=v.getterFor;e.exports=function(e,t,r){var v,E=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),_=E?"set":"add",P=i[e],w=P&&P.prototype,S={};if(m&&c(P)&&(b||w.forEach&&!n((function(){(new P).entries().next()})))){var x=(v=t((function(t,r){g(u(t,x),{type:e,collection:new P}),null!=r&&l(r,t[_],{that:t,AS_ENTRIES:E})}))).prototype,A=y(e);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in w)||b&&"clear"==e||s(x,e,(function(r,a){var i=A(this).collection;if(!t&&b&&!d(r))return"get"==e&&void 0;var o=i[e](0===r?0:r,a);return t?this:o}))})),b||p(x,"size",{configurable:!0,get:function(){return A(this).collection.size}})}else v=r.getConstructor(t,e,E,_),o.enable();return h(v,e,!1,!0),S[e]=v,a({global:!0,forced:!0},S),b||r.setStrong(v,e,E),v}},3489:(e,t,r)=>{var a=r(953),i=r(1136),o=r(9677),n=r(5988);e.exports=function(e,t,r){for(var s=i(t),l=n.f,u=o.f,c=0;c<s.length;c++){var d=s[c];a(e,d)||r&&a(r,d)||l(e,d,u(t,d))}}},7772:(e,t,r)=>{var a=r(9813)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[a]=!1,"/./"[e](t)}catch(e){}}return!1}},4160:(e,t,r)=>{var a=r(5981);e.exports=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},1046:(e,t,r)=>{"use strict";var a=r(5143).IteratorPrototype,i=r(9290),o=r(1887),n=r(904),s=r(2077),l=function(){return this};e.exports=function(e,t,r,u){var c=t+" Iterator";return e.prototype=i(a,{next:o(+!u,r)}),n(e,c,!1,!0),s[c]=l,e}},2029:(e,t,r)=>{var a=r(5746),i=r(5988),o=r(1887);e.exports=a?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},1887:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5449:(e,t,r)=>{"use strict";var a=r(3894),i=r(5988),o=r(1887);e.exports=function(e,t,r){var n=a(t);n in e?i.f(e,n,o(0,r)):e[n]=r}},7771:(e,t,r)=>{"use strict";var a=r(6887),i=r(8834),o=r(2529),n=r(9417),s=r(7475),l=r(1046),u=r(249),c=r(8929),d=r(904),h=r(2029),p=r(9754),f=r(9813),m=r(2077),v=r(5143),g=n.PROPER,y=n.CONFIGURABLE,E=v.IteratorPrototype,b=v.BUGGY_SAFARI_ITERATORS,_=f("iterator"),P="keys",w="values",S="entries",x=function(){return this};e.exports=function(e,t,r,n,f,v,A){l(r,t,n);var T,R,I,O=function(e){if(e===f&&j)return j;if(!b&&e in D)return D[e];switch(e){case P:case w:case S:return function(){return new r(this,e)}}return function(){return new r(this)}},C=t+" Iterator",L=!1,D=e.prototype,F=D[_]||D["@@iterator"]||f&&D[f],j=!b&&F||O(f),N="Array"==t&&D.entries||F;if(N&&(T=u(N.call(new e)))!==Object.prototype&&T.next&&(o||u(T)===E||(c?c(T,E):s(T[_])||p(T,_,x)),d(T,C,!0,!0),o&&(m[C]=x)),g&&f==w&&F&&F.name!==w&&(!o&&y?h(D,"name",w):(L=!0,j=function(){return i(F,this)})),f)if(R={values:O(w),keys:v?j:O(P),entries:O(S)},A)for(I in R)(b||L||!(I in D))&&p(D,I,R[I]);else a({target:t,proto:!0,forced:b||L},R);return o&&!A||D[_]===j||p(D,_,j,{name:f}),m[t]=j,R}},6349:(e,t,r)=>{var a=r(4058),i=r(953),o=r(1477),n=r(5988).f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});i(t,e)||n(t,e,{value:o.f(e)})}},5746:(e,t,r)=>{var a=r(5981);e.exports=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1333:(e,t,r)=>{var a=r(1899),i=r(941),o=a.document,n=i(o)&&i(o.createElement);e.exports=function(e){return n?o.createElement(e):{}}},3281:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3321:e=>{e.exports="object"==typeof window&&"object"!=typeof Deno},4470:(e,t,r)=>{var a=r(2861),i=r(1899);e.exports=/ipad|iphone|ipod/i.test(a)&&void 0!==i.Pebble},2749:(e,t,r)=>{var a=r(2861);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},6049:(e,t,r)=>{var a=r(2532),i=r(1899);e.exports="process"==a(i.process)},8045:(e,t,r)=>{var a=r(2861);e.exports=/web0s(?!.*chrome)/i.test(a)},2861:(e,t,r)=>{var a=r(626);e.exports=a("navigator","userAgent")||""},3385:(e,t,r)=>{var a,i,o=r(1899),n=r(2861),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(i=(a=c.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!i&&n&&(!(a=n.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=n.match(/Chrome\/(\d+)/))&&(i=+a[1]),e.exports=i},5703:(e,t,r)=>{var a=r(4058);e.exports=function(e){return a[e+"Prototype"]}},6759:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8780:(e,t,r)=>{var a=r(5981),i=r(1887);e.exports=!a((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},6887:(e,t,r)=>{"use strict";var a=r(1899),i=r(9730),o=r(5329),n=r(7475),s=r(9677).f,l=r(7252),u=r(4058),c=r(6843),d=r(2029),h=r(953),p=function(e){var t=function(r,a,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,a)}return new e(r,a,o)}return i(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var r,i,f,m,v,g,y,E,b=e.target,_=e.global,P=e.stat,w=e.proto,S=_?a:P?a[b]:(a[b]||{}).prototype,x=_?u:u[b]||d(u,b,{})[b],A=x.prototype;for(f in t)r=!l(_?f:b+(P?".":"#")+f,e.forced)&&S&&h(S,f),v=x[f],r&&(g=e.noTargetGet?(E=s(S,f))&&E.value:S[f]),m=r&&g?g:t[f],r&&typeof v==typeof m||(y=e.bind&&r?c(m,a):e.wrap&&r?p(m):w&&n(m)?o(m):m,(e.sham||m&&m.sham||v&&v.sham)&&d(y,"sham",!0),d(x,f,y),w&&(h(u,i=b+"Prototype")||d(u,i,{}),d(u[i],f,m),e.real&&A&&!A[f]&&d(A,f,m)))}},5981:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},5602:(e,t,r)=>{var a=r(5981);e.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},9730:(e,t,r)=>{var a=r(8285),i=Function.prototype,o=i.apply,n=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(a?n.bind(o):function(){return n.apply(o,arguments)})},6843:(e,t,r)=>{var a=r(5329),i=r(4883),o=r(8285),n=a(a.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?n(e,t):function(){return e.apply(t,arguments)}}},8285:(e,t,r)=>{var a=r(5981);e.exports=!a((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8308:(e,t,r)=>{"use strict";var a=r(1899),i=r(5329),o=r(4883),n=r(941),s=r(953),l=r(3765),u=r(8285),c=a.Function,d=i([].concat),h=i([].join),p={},f=function(e,t,r){if(!s(p,t)){for(var a=[],i=0;i<t;i++)a[i]="a["+i+"]";p[t]=c("C,a","return new C("+h(a,",")+")")}return p[t](e,r)};e.exports=u?c.bind:function(e){var t=o(this),r=t.prototype,a=l(arguments,1),i=function(){var r=d(a,l(arguments));return this instanceof i?f(t,r.length,r):t.apply(e,r)};return n(r)&&(i.prototype=r),i}},8834:(e,t,r)=>{var a=r(8285),i=Function.prototype.call;e.exports=a?i.bind(i):function(){return i.apply(i,arguments)}},9417:(e,t,r)=>{var a=r(5746),i=r(953),o=Function.prototype,n=a&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!a||a&&n(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},5329:(e,t,r)=>{var a=r(8285),i=Function.prototype,o=i.bind,n=i.call,s=a&&o.bind(n,n);e.exports=a?function(e){return e&&s(e)}:function(e){return e&&function(){return n.apply(e,arguments)}}},626:(e,t,r)=>{var a=r(4058),i=r(1899),o=r(7475),n=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?n(a[e])||n(i[e]):a[e]&&a[e][t]||i[e]&&i[e][t]}},2902:(e,t,r)=>{var a=r(9697),i=r(4229),o=r(2077),n=r(9813)("iterator");e.exports=function(e){if(null!=e)return i(e,n)||i(e,"@@iterator")||o[a(e)]}},429:(e,t,r)=>{var a=r(1899),i=r(8834),o=r(4883),n=r(6059),s=r(9826),l=r(2902),u=a.TypeError;e.exports=function(e,t){var r=arguments.length<2?l(e):t;if(o(r))return n(i(r,e));throw u(s(e)+" is not iterable")}},4229:(e,t,r)=>{var a=r(4883);e.exports=function(e,t){var r=e[t];return null==r?void 0:a(r)}},1899:(e,t,r)=>{var a=function(e){return e&&e.Math==Math&&e};e.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},953:(e,t,r)=>{var a=r(5329),i=r(9678),o=a({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7748:e=>{e.exports={}},4845:(e,t,r)=>{var a=r(1899);e.exports=function(e,t){var r=a.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))}},5463:(e,t,r)=>{var a=r(626);e.exports=a("document","documentElement")},2840:(e,t,r)=>{var a=r(5746),i=r(5981),o=r(1333);e.exports=!a&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7026:(e,t,r)=>{var a=r(1899),i=r(5329),o=r(5981),n=r(2532),s=a.Object,l=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==n(e)?l(e,""):s(e)}:s},1302:(e,t,r)=>{var a=r(5329),i=r(7475),o=r(3030),n=a(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return n(e)}),e.exports=o.inspectSource},3794:(e,t,r)=>{var a=r(941),i=r(2029);e.exports=function(e,t){a(t)&&"cause"in t&&i(e,"cause",t.cause)}},1647:(e,t,r)=>{var a=r(6887),i=r(5329),o=r(7748),n=r(941),s=r(953),l=r(5988).f,u=r(946),c=r(684),d=r(1584),h=r(9418),p=r(5602),f=!1,m=h("meta"),v=0,g=function(e){l(e,m,{value:{objectID:"O"+v++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},f=!0;var e=u.f,t=i([].splice),r={};r[m]=1,e(r).length&&(u.f=function(r){for(var a=e(r),i=0,o=a.length;i<o;i++)if(a[i]===m){t(a,i,1);break}return a},a({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,m)){if(!d(e))return"F";if(!t)return"E";g(e)}return e[m].objectID},getWeakData:function(e,t){if(!s(e,m)){if(!d(e))return!0;if(!t)return!1;g(e)}return e[m].weakData},onFreeze:function(e){return p&&f&&d(e)&&!s(e,m)&&g(e),e}};o[m]=!0},5402:(e,t,r)=>{var a,i,o,n=r(8019),s=r(1899),l=r(5329),u=r(941),c=r(2029),d=r(953),h=r(3030),p=r(4262),f=r(7748),m="Object already initialized",v=s.TypeError,g=s.WeakMap;if(n||h.state){var y=h.state||(h.state=new g),E=l(y.get),b=l(y.has),_=l(y.set);a=function(e,t){if(b(y,e))throw new v(m);return t.facade=e,_(y,e,t),t},i=function(e){return E(y,e)||{}},o=function(e){return b(y,e)}}else{var P=p("state");f[P]=!0,a=function(e,t){if(d(e,P))throw new v(m);return t.facade=e,c(e,P,t),t},i=function(e){return d(e,P)?e[P]:{}},o=function(e){return d(e,P)}}e.exports={set:a,get:i,has:o,enforce:function(e){return o(e)?i(e):a(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return r}}}},6782:(e,t,r)=>{var a=r(9813),i=r(2077),o=a("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||n[o]===e)}},1052:(e,t,r)=>{var a=r(2532);e.exports=Array.isArray||function(e){return"Array"==a(e)}},7475:e=>{e.exports=function(e){return"function"==typeof e}},4284:(e,t,r)=>{var a=r(5329),i=r(5981),o=r(7475),n=r(9697),s=r(626),l=r(1302),u=function(){},c=[],d=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=a(h.exec),f=!h.exec(u),m=function(e){if(!o(e))return!1;try{return d(u,c,e),!0}catch(e){return!1}},v=function(e){if(!o(e))return!1;switch(n(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,l(e))}catch(e){return!0}};v.sham=!0,e.exports=!d||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?v:m},7252:(e,t,r)=>{var a=r(5981),i=r(7475),o=/#|\.prototype\./,n=function(e,t){var r=l[s(e)];return r==c||r!=u&&(i(t)?a(t):!!t)},s=n.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=n.data={},u=n.NATIVE="N",c=n.POLYFILL="P";e.exports=n},941:(e,t,r)=>{var a=r(7475);e.exports=function(e){return"object"==typeof e?null!==e:a(e)}},2529:e=>{e.exports=!0},685:(e,t,r)=>{var a=r(941),i=r(2532),o=r(9813)("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},6664:(e,t,r)=>{var a=r(1899),i=r(626),o=r(7475),n=r(7046),s=r(2302),l=a.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&n(t.prototype,l(e))}},3091:(e,t,r)=>{var a=r(1899),i=r(6843),o=r(8834),n=r(6059),s=r(9826),l=r(6782),u=r(623),c=r(7046),d=r(429),h=r(2902),p=r(7609),f=a.TypeError,m=function(e,t){this.stopped=e,this.result=t},v=m.prototype;e.exports=function(e,t,r){var a,g,y,E,b,_,P,w=r&&r.that,S=!(!r||!r.AS_ENTRIES),x=!(!r||!r.IS_ITERATOR),A=!(!r||!r.INTERRUPTED),T=i(t,w),R=function(e){return a&&p(a,"normal",e),new m(!0,e)},I=function(e){return S?(n(e),A?T(e[0],e[1],R):T(e[0],e[1])):A?T(e,R):T(e)};if(x)a=e;else{if(!(g=h(e)))throw f(s(e)+" is not iterable");if(l(g)){for(y=0,E=u(e);E>y;y++)if((b=I(e[y]))&&c(v,b))return b;return new m(!1)}a=d(e,g)}for(_=a.next;!(P=o(_,a)).done;){try{b=I(P.value)}catch(e){p(a,"throw",e)}if("object"==typeof b&&b&&c(v,b))return b}return new m(!1)}},7609:(e,t,r)=>{var a=r(8834),i=r(6059),o=r(4229);e.exports=function(e,t,r){var n,s;i(e);try{if(!(n=o(e,"return"))){if("throw"===t)throw r;return r}n=a(n,e)}catch(e){s=!0,n=e}if("throw"===t)throw r;if(s)throw n;return i(n),r}},5143:(e,t,r)=>{"use strict";var a,i,o,n=r(5981),s=r(7475),l=r(9290),u=r(249),c=r(9754),d=r(9813),h=r(2529),p=d("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(a=i):f=!0),null==a||n((function(){var e={};return a[p].call(e)!==e}))?a={}:h&&(a=l(a)),s(a[p])||c(a,p,(function(){return this})),e.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:f}},2077:e=>{e.exports={}},623:(e,t,r)=>{var a=r(3057);e.exports=function(e){return a(e.length)}},6132:(e,t,r)=>{var a,i,o,n,s,l,u,c,d=r(1899),h=r(6843),p=r(9677).f,f=r(2941).set,m=r(2749),v=r(4470),g=r(8045),y=r(6049),E=d.MutationObserver||d.WebKitMutationObserver,b=d.document,_=d.process,P=d.Promise,w=p(d,"queueMicrotask"),S=w&&w.value;S||(a=function(){var e,t;for(y&&(e=_.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?n():o=void 0,e}}o=void 0,e&&e.enter()},m||y||g||!E||!b?!v&&P&&P.resolve?((u=P.resolve(void 0)).constructor=P,c=h(u.then,u),n=function(){c(a)}):y?n=function(){_.nextTick(a)}:(f=h(f,d),n=function(){f(a)}):(s=!0,l=b.createTextNode(""),new E(a).observe(l,{characterData:!0}),n=function(){l.data=s=!s})),e.exports=S||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,n()),o=t}},5366:(e,t,r)=>{var a=r(2497);e.exports=a&&!!Symbol.for&&!!Symbol.keyFor},2497:(e,t,r)=>{var a=r(3385),i=r(5981);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},8019:(e,t,r)=>{var a=r(1899),i=r(7475),o=r(1302),n=a.WeakMap;e.exports=i(n)&&/native code/.test(o(n))},9520:(e,t,r)=>{"use strict";var a=r(4883),i=function(e){var t,r;this.promise=new e((function(e,a){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=a})),this.resolve=a(t),this.reject=a(r)};e.exports.f=function(e){return new i(e)}},4649:(e,t,r)=>{var a=r(5803);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:a(e)}},344:(e,t,r)=>{var a=r(1899),i=r(685),o=a.TypeError;e.exports=function(e){if(i(e))throw o("The method doesn't accept regular expressions");return e}},4420:(e,t,r)=>{"use strict";var a=r(5746),i=r(5329),o=r(8834),n=r(5981),s=r(4771),l=r(7857),u=r(6760),c=r(9678),d=r(7026),h=Object.assign,p=Object.defineProperty,f=i([].concat);e.exports=!h||n((function(){if(a&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=h({},e)[r]||s(h({},t)).join("")!=i}))?function(e,t){for(var r=c(e),i=arguments.length,n=1,h=l.f,p=u.f;i>n;)for(var m,v=d(arguments[n++]),g=h?f(s(v),h(v)):s(v),y=g.length,E=0;y>E;)m=g[E++],a&&!o(p,v,m)||(r[m]=v[m]);return r}:h},9290:(e,t,r)=>{var a,i=r(6059),o=r(9938),n=r(6759),s=r(7748),l=r(5463),u=r(1333),c=r(4262)("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{a=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&a?p(a):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):p(a);for(var r=n.length;r--;)delete f.prototype[n[r]];return f()};s[c]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d.prototype=i(e),r=new d,d.prototype=null,r[c]=e):r=f(),void 0===t?r:o.f(r,t)}},9938:(e,t,r)=>{var a=r(5746),i=r(3937),o=r(5988),n=r(6059),s=r(4529),l=r(4771);t.f=a&&!i?Object.defineProperties:function(e,t){n(e);for(var r,a=s(t),i=l(t),u=i.length,c=0;u>c;)o.f(e,r=i[c++],a[r]);return e}},5988:(e,t,r)=>{var a=r(1899),i=r(5746),o=r(2840),n=r(3937),s=r(6059),l=r(3894),u=a.TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor;t.f=i?n?function(e,t,r){if(s(e),t=l(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var a=d(e,t);a&&a.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:a.configurable,enumerable:"enumerable"in r?r.enumerable:a.enumerable,writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(s(e),t=l(t),s(r),o)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},9677:(e,t,r)=>{var a=r(5746),i=r(8834),o=r(6760),n=r(1887),s=r(4529),l=r(3894),u=r(953),c=r(2840),d=Object.getOwnPropertyDescriptor;t.f=a?d:function(e,t){if(e=s(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return n(!i(o.f,e,t),e[t])}},684:(e,t,r)=>{var a=r(2532),i=r(4529),o=r(946).f,n=r(5790),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==a(e)?function(e){try{return o(e)}catch(e){return n(s)}}(e):o(i(e))}},946:(e,t,r)=>{var a=r(5629),i=r(6759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,i)}},7857:(e,t)=>{t.f=Object.getOwnPropertySymbols},249:(e,t,r)=>{var a=r(1899),i=r(953),o=r(7475),n=r(9678),s=r(4262),l=r(4160),u=s("IE_PROTO"),c=a.Object,d=c.prototype;e.exports=l?c.getPrototypeOf:function(e){var t=n(e);if(i(t,u))return t[u];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof c?d:null}},1584:(e,t,r)=>{var a=r(5981),i=r(941),o=r(2532),n=r(7135),s=Object.isExtensible,l=a((function(){s(1)}));e.exports=l||n?function(e){return!!i(e)&&(!n||"ArrayBuffer"!=o(e))&&(!s||s(e))}:s},7046:(e,t,r)=>{var a=r(5329);e.exports=a({}.isPrototypeOf)},5629:(e,t,r)=>{var a=r(5329),i=r(953),o=r(4529),n=r(1692).indexOf,s=r(7748),l=a([].push);e.exports=function(e,t){var r,a=o(e),u=0,c=[];for(r in a)!i(s,r)&&i(a,r)&&l(c,r);for(;t.length>u;)i(a,r=t[u++])&&(~n(c,r)||l(c,r));return c}},4771:(e,t,r)=>{var a=r(5629),i=r(6759);e.exports=Object.keys||function(e){return a(e,i)}},6760:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!r.call({1:2},1);t.f=i?function(e){var t=a(this,e);return!!t&&t.enumerable}:r},8929:(e,t,r)=>{var a=r(5329),i=r(6059),o=r(1851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,a){return i(r),o(a),t?e(r,a):r.__proto__=a,r}}():void 0)},8810:(e,t,r)=>{var a=r(5746),i=r(5329),o=r(4771),n=r(4529),s=i(r(6760).f),l=i([].push),u=function(e){return function(t){for(var r,i=n(t),u=o(i),c=u.length,d=0,h=[];c>d;)r=u[d++],a&&!s(i,r)||l(h,e?[r,i[r]]:i[r]);return h}};e.exports={entries:u(!0),values:u(!1)}},5623:(e,t,r)=>{"use strict";var a=r(2885),i=r(9697);e.exports=a?{}.toString:function(){return"[object "+i(this)+"]"}},9811:(e,t,r)=>{var a=r(1899),i=r(8834),o=r(7475),n=r(941),s=a.TypeError;e.exports=function(e,t){var r,a;if("string"===t&&o(r=e.toString)&&!n(a=i(r,e)))return a;if(o(r=e.valueOf)&&!n(a=i(r,e)))return a;if("string"!==t&&o(r=e.toString)&&!n(a=i(r,e)))return a;throw s("Can't convert object to primitive value")}},1136:(e,t,r)=>{var a=r(626),i=r(5329),o=r(946),n=r(7857),s=r(6059),l=i([].concat);e.exports=a("Reflect","ownKeys")||function(e){var t=o.f(s(e)),r=n.f;return r?l(t,r(e)):t}},4058:e=>{e.exports={}},2:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7742:(e,t,r)=>{var a=r(1899),i=r(6991),o=r(7475),n=r(7252),s=r(1302),l=r(9813),u=r(3321),c=r(2529),d=r(3385),h=i&&i.prototype,p=l("species"),f=!1,m=o(a.PromiseRejectionEvent),v=n("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===d)return!0;if(c&&(!h.catch||!h.finally))return!0;if(d>=51&&/native code/.test(e))return!1;var r=new i((function(e){e(1)})),a=function(e){e((function(){}),(function(){}))};return(r.constructor={})[p]=a,!(f=r.then((function(){}))instanceof a)||!t&&u&&!m}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:m,SUBCLASSING:f}},6991:(e,t,r)=>{var a=r(1899);e.exports=a.Promise},6584:(e,t,r)=>{var a=r(6059),i=r(941),o=r(9520);e.exports=function(e,t){if(a(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},1542:(e,t,r)=>{var a=r(6991),i=r(1385),o=r(7742).CONSTRUCTOR;e.exports=o||!i((function(e){a.all(e).then(void 0,(function(){}))}))},8397:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},7524:(e,t,r)=>{var a=r(9754);e.exports=function(e,t,r){for(var i in t)r&&r.unsafe&&e[i]?e[i]=t[i]:a(e,i,t[i],r);return e}},9754:(e,t,r)=>{var a=r(2029);e.exports=function(e,t,r,i){i&&i.enumerable?e[t]=r:a(e,t,r)}},8219:(e,t,r)=>{var a=r(1899).TypeError;e.exports=function(e){if(null==e)throw a("Can't call method on "+e);return e}},7620:(e,t,r)=>{var a=r(1899),i=r(9730),o=r(7475),n=r(2861),s=r(3765),l=r(8348),u=/MSIE .\./.test(n),c=a.Function,d=function(e){return u?function(t,r){var a=l(arguments.length,1)>2,n=o(t)?t:c(t),u=a?s(arguments,2):void 0;return e(a?function(){i(n,this,u)}:n,r)}:e};e.exports={setTimeout:d(a.setTimeout),setInterval:d(a.setInterval)}},4911:(e,t,r)=>{var a=r(1899),i=Object.defineProperty;e.exports=function(e,t){try{i(a,e,{value:t,configurable:!0,writable:!0})}catch(r){a[e]=t}return t}},4431:(e,t,r)=>{"use strict";var a=r(626),i=r(5988),o=r(9813),n=r(5746),s=o("species");e.exports=function(e){var t=a(e),r=i.f;n&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},904:(e,t,r)=>{var a=r(2885),i=r(5988).f,o=r(2029),n=r(953),s=r(5623),l=r(9813)("toStringTag");e.exports=function(e,t,r,u){if(e){var c=r?e:e.prototype;n(c,l)||i(c,l,{configurable:!0,value:t}),u&&!a&&o(c,"toString",s)}}},4262:(e,t,r)=>{var a=r(8726),i=r(9418),o=a("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},3030:(e,t,r)=>{var a=r(1899),i=r(4911),o="__core-js_shared__",n=a[o]||i(o,{});e.exports=n},8726:(e,t,r)=>{var a=r(2529),i=r(3030);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.1",mode:a?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.1/LICENSE",source:"https://github.com/zloirock/core-js"})},487:(e,t,r)=>{var a=r(6059),i=r(174),o=r(9813)("species");e.exports=function(e,t){var r,n=a(e).constructor;return void 0===n||null==(r=a(n)[o])?t:i(r)}},4620:(e,t,r)=>{var a=r(5329),i=r(2435),o=r(5803),n=r(8219),s=a("".charAt),l=a("".charCodeAt),u=a("".slice),c=function(e){return function(t,r){var a,c,d=o(n(t)),h=i(r),p=d.length;return h<0||h>=p?e?"":void 0:(a=l(d,h))<55296||a>56319||h+1===p||(c=l(d,h+1))<56320||c>57343?e?s(d,h):a:e?u(d,h,h+2):c-56320+(a-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},1166:(e,t,r)=>{"use strict";var a=r(4853).end,i=r(3093);e.exports=i("trimEnd")?function(){return a(this)}:"".trimEnd},3093:(e,t,r)=>{var a=r(9417).PROPER,i=r(5981),o=r(3483);e.exports=function(e){return i((function(){return!!o[e]()||""!==""[e]()||a&&o[e].name!==e}))}},4853:(e,t,r)=>{var a=r(5329),i=r(8219),o=r(5803),n=r(3483),s=a("".replace),l="["+n+"]",u=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),d=function(e){return function(t){var r=o(i(t));return 1&e&&(r=s(r,u,"")),2&e&&(r=s(r,c,"")),r}};e.exports={start:d(1),end:d(2),trim:d(3)}},9630:(e,t,r)=>{var a=r(8834),i=r(626),o=r(9813),n=r(9754);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,s=o("toPrimitive");t&&!t[s]&&n(t,s,(function(e){return a(r,this)}))}},2941:(e,t,r)=>{var a,i,o,n,s=r(1899),l=r(9730),u=r(6843),c=r(7475),d=r(953),h=r(5981),p=r(5463),f=r(3765),m=r(1333),v=r(8348),g=r(2749),y=r(6049),E=s.setImmediate,b=s.clearImmediate,_=s.process,P=s.Dispatch,w=s.Function,S=s.MessageChannel,x=s.String,A=0,T={};try{a=s.location}catch(e){}var R=function(e){if(d(T,e)){var t=T[e];delete T[e],t()}},I=function(e){return function(){R(e)}},O=function(e){R(e.data)},C=function(e){s.postMessage(x(e),a.protocol+"//"+a.host)};E&&b||(E=function(e){v(arguments.length,1);var t=c(e)?e:w(e),r=f(arguments,1);return T[++A]=function(){l(t,void 0,r)},i(A),A},b=function(e){delete T[e]},y?i=function(e){_.nextTick(I(e))}:P&&P.now?i=function(e){P.now(I(e))}:S&&!g?(n=(o=new S).port2,o.port1.onmessage=O,i=u(n.postMessage,n)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&a&&"file:"!==a.protocol&&!h(C)?(i=C,s.addEventListener("message",O,!1)):i="onreadystatechange"in m("script")?function(e){p.appendChild(m("script")).onreadystatechange=function(){p.removeChild(this),R(e)}}:function(e){setTimeout(I(e),0)}),e.exports={set:E,clear:b}},9413:(e,t,r)=>{var a=r(2435),i=Math.max,o=Math.min;e.exports=function(e,t){var r=a(e);return r<0?i(r+t,0):o(r,t)}},4529:(e,t,r)=>{var a=r(7026),i=r(8219);e.exports=function(e){return a(i(e))}},2435:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){var a=+e;return a!=a||0===a?0:(a>0?r:t)(a)}},3057:(e,t,r)=>{var a=r(2435),i=Math.min;e.exports=function(e){return e>0?i(a(e),9007199254740991):0}},9678:(e,t,r)=>{var a=r(1899),i=r(8219),o=a.Object;e.exports=function(e){return o(i(e))}},6935:(e,t,r)=>{var a=r(1899),i=r(8834),o=r(941),n=r(6664),s=r(4229),l=r(9811),u=r(9813),c=a.TypeError,d=u("toPrimitive");e.exports=function(e,t){if(!o(e)||n(e))return e;var r,a=s(e,d);if(a){if(void 0===t&&(t="default"),r=i(a,e,t),!o(r)||n(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},3894:(e,t,r)=>{var a=r(6935),i=r(6664);e.exports=function(e){var t=a(e,"string");return i(t)?t:t+""}},2885:(e,t,r)=>{var a={};a[r(9813)("toStringTag")]="z",e.exports="[object z]"===String(a)},5803:(e,t,r)=>{var a=r(1899),i=r(9697),o=a.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},9826:(e,t,r)=>{var a=r(1899).String;e.exports=function(e){try{return a(e)}catch(e){return"Object"}}},9418:(e,t,r)=>{var a=r(5329),i=0,o=Math.random(),n=a(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+n(++i+o,36)}},2302:(e,t,r)=>{var a=r(2497);e.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3937:(e,t,r)=>{var a=r(5746),i=r(5981);e.exports=a&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8348:(e,t,r)=>{var a=r(1899).TypeError;e.exports=function(e,t){if(e<t)throw a("Not enough arguments");return e}},1477:(e,t,r)=>{var a=r(9813);t.f=a},9813:(e,t,r)=>{var a=r(1899),i=r(8726),o=r(953),n=r(9418),s=r(2497),l=r(2302),u=i("wks"),c=a.Symbol,d=c&&c.for,h=l?c:c&&c.withoutSetter||n;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(c,e)?u[e]=c[e]:u[e]=l&&d?d(t):h(t)}return u[e]}},3483:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},9812:(e,t,r)=>{"use strict";var a=r(6887),i=r(1899),o=r(7046),n=r(249),s=r(8929),l=r(3489),u=r(9290),c=r(2029),d=r(1887),h=r(8694),p=r(3794),f=r(3091),m=r(4649),v=r(9813),g=r(8780),y=v("toStringTag"),E=i.Error,b=[].push,_=function(e,t){var r,a=arguments.length>2?arguments[2]:void 0,i=o(P,this);s?r=s(new E,i?n(this):P):(r=i?this:u(P),c(r,y,"Error")),void 0!==t&&c(r,"message",m(t)),g&&c(r,"stack",h(r.stack,1)),p(r,a);var l=[];return f(e,b,{that:l}),c(r,"errors",l),r};s?s(_,E):l(_,E,{name:!0});var P=_.prototype=u(E.prototype,{constructor:d(1,_),message:d(1,""),name:d(1,"AggregateError")});a({global:!0},{AggregateError:_})},7627:(e,t,r)=>{r(9812)},5906:(e,t,r)=>{"use strict";var a=r(6887),i=r(1899),o=r(5981),n=r(1052),s=r(941),l=r(9678),u=r(623),c=r(5449),d=r(4692),h=r(568),p=r(9813),f=r(3385),m=p("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",y=i.TypeError,E=f>=51||!o((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),b=h("concat"),_=function(e){if(!s(e))return!1;var t=e[m];return void 0!==t?!!t:n(e)};a({target:"Array",proto:!0,forced:!E||!b},{concat:function(e){var t,r,a,i,o,n=l(this),s=d(n,0),h=0;for(t=-1,a=arguments.length;t<a;t++)if(_(o=-1===t?n:arguments[t])){if(h+(i=u(o))>v)throw y(g);for(r=0;r<i;r++,h++)r in o&&c(s,h,o[r])}else{if(h>=v)throw y(g);c(s,h++,o)}return s.length=h,s}})},1501:(e,t,r)=>{"use strict";var a=r(6887),i=r(3610).filter;a({target:"Array",proto:!0,forced:!r(568)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},833:(e,t,r)=>{"use strict";var a=r(6887),i=r(3610).find,o=r(8479),n="find",s=!0;n in[]&&Array(1).find((function(){s=!1})),a({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(n)},2437:(e,t,r)=>{"use strict";var a=r(6887),i=r(6837);a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},7690:(e,t,r)=>{"use strict";var a=r(6887),i=r(1692).includes,o=r(8479);a({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},9076:(e,t,r)=>{"use strict";var a=r(6887),i=r(5329),o=r(1692).indexOf,n=r(4194),s=i([].indexOf),l=!!s&&1/s([1],1,-0)<0,u=n("indexOf");a({target:"Array",proto:!0,forced:l||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?s(this,e,t)||0:o(this,e,t)}})},6274:(e,t,r)=>{"use strict";var a=r(4529),i=r(8479),o=r(2077),n=r(5402),s=r(5988).f,l=r(7771),u=r(2529),c=r(5746),d="Array Iterator",h=n.set,p=n.getterFor(d);e.exports=l(Array,"Array",(function(e,t){h(this,{type:d,target:a(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,r=e.kind,a=e.index++;return!t||a>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:a,done:!1}:"values"==r?{value:t[a],done:!1}:{value:[a,t[a]],done:!1}}),"values");var f=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&c&&"values"!==f.name)try{s(f,"name",{value:"values"})}catch(e){}},6026:(e,t,r)=>{"use strict";var a=r(6887),i=r(3610).some;a({target:"Array",proto:!0,forced:!r(4194)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},8611:(e,t,r)=>{"use strict";var a=r(6887),i=r(1899),o=r(9413),n=r(2435),s=r(623),l=r(9678),u=r(4692),c=r(5449),d=r(568)("splice"),h=i.TypeError,p=Math.max,f=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var r,a,i,d,g,y,E=l(this),b=s(E),_=o(e,b),P=arguments.length;if(0===P?r=a=0:1===P?(r=0,a=b-_):(r=P-2,a=f(p(n(t),0),b-_)),b+r-a>m)throw h(v);for(i=u(E,a),d=0;d<a;d++)(g=_+d)in E&&c(i,d,E[g]);if(i.length=a,r<a){for(d=_;d<b-a;d++)y=d+r,(g=d+a)in E?E[y]=E[g]:delete E[y];for(d=b;d>b-a+r;d--)delete E[d-1]}else if(r>a)for(d=b-a;d>_;d--)y=d+r-1,(g=d+a-1)in E?E[y]=E[g]:delete E[y];for(d=0;d<r;d++)E[d+_]=arguments[d+2];return E.length=b-a+r,i}})},3381:(e,t,r)=>{var a=r(6887),i=r(8308);a({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},2619:(e,t,r)=>{var a=r(6887),i=r(626),o=r(9730),n=r(8834),s=r(5329),l=r(5981),u=r(1052),c=r(7475),d=r(941),h=r(6664),p=r(3765),f=r(2497),m=i("JSON","stringify"),v=s(/./.exec),g=s("".charAt),y=s("".charCodeAt),E=s("".replace),b=s(1..toString),_=/[\uD800-\uDFFF]/g,P=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,S=!f||l((function(){var e=i("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),x=l((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),A=function(e,t){var r=p(arguments),a=t;if((d(t)||void 0!==e)&&!h(e))return u(t)||(t=function(e,t){if(c(a)&&(t=n(a,this,e,t)),!h(t))return t}),r[1]=t,o(m,null,r)},T=function(e,t,r){var a=g(r,t-1),i=g(r,t+1);return v(P,e)&&!v(w,i)||v(w,e)&&!v(P,a)?"\\u"+b(y(e,0),16):e};m&&a({target:"JSON",stat:!0,forced:S||x},{stringify:function(e,t,r){var a=p(arguments),i=o(S?A:m,null,a);return x&&"string"==typeof i?E(i,_,T):i}})},9221:(e,t,r)=>{var a=r(6887),i=r(4420);a({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},4979:(e,t,r)=>{var a=r(6887),i=r(5746),o=r(9938).f;a({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},6450:(e,t,r)=>{var a=r(6887),i=r(5746),o=r(5988).f;a({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},6924:(e,t,r)=>{var a=r(6887),i=r(5981),o=r(4529),n=r(9677).f,s=r(5746),l=i((function(){n(1)}));a({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return n(o(e),t)}})},8482:(e,t,r)=>{var a=r(6887),i=r(5746),o=r(1136),n=r(4529),s=r(9677),l=r(5449);a({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,r,a=n(e),i=s.f,u=o(a),c={},d=0;u.length>d;)void 0!==(r=i(a,t=u[d++]))&&l(c,t,r);return c}})},7144:(e,t,r)=>{var a=r(6887),i=r(2497),o=r(5981),n=r(7857),s=r(9678);a({target:"Object",stat:!0,forced:!i||o((function(){n.f(1)}))},{getOwnPropertySymbols:function(e){var t=n.f;return t?t(s(e)):[]}})},1724:(e,t,r)=>{var a=r(6887),i=r(9678),o=r(4771);a({target:"Object",stat:!0,forced:r(5981)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},5967:()=>{},6614:(e,t,r)=>{var a=r(6887),i=r(8810).values;a({target:"Object",stat:!0},{values:function(e){return i(e)}})},4560:(e,t,r)=>{"use strict";var a=r(6887),i=r(8834),o=r(4883),n=r(9520),s=r(2),l=r(3091);a({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=n.f(t),a=r.resolve,u=r.reject,c=s((function(){var r=o(t.resolve),n=[],s=0,u=1;l(e,(function(e){var o=s++,l=!1;u++,i(r,t,e).then((function(e){l||(l=!0,n[o]={status:"fulfilled",value:e},--u||a(n))}),(function(e){l||(l=!0,n[o]={status:"rejected",reason:e},--u||a(n))}))})),--u||a(n)}));return c.error&&u(c.value),r.promise}})},6890:(e,t,r)=>{"use strict";var a=r(6887),i=r(8834),o=r(4883),n=r(9520),s=r(2),l=r(3091);a({target:"Promise",stat:!0,forced:r(1542)},{all:function(e){var t=this,r=n.f(t),a=r.resolve,u=r.reject,c=s((function(){var r=o(t.resolve),n=[],s=0,c=1;l(e,(function(e){var o=s++,l=!1;c++,i(r,t,e).then((function(e){l||(l=!0,n[o]=e,--c||a(n))}),u)})),--c||a(n)}));return c.error&&u(c.value),r.promise}})},7206:(e,t,r)=>{"use strict";var a=r(6887),i=r(8834),o=r(4883),n=r(626),s=r(9520),l=r(2),u=r(3091),c="No one promise resolved";a({target:"Promise",stat:!0},{any:function(e){var t=this,r=n("AggregateError"),a=s.f(t),d=a.resolve,h=a.reject,p=l((function(){var a=o(t.resolve),n=[],s=0,l=1,p=!1;u(e,(function(e){var o=s++,u=!1;l++,i(a,t,e).then((function(e){u||p||(p=!0,d(e))}),(function(e){u||p||(u=!0,n[o]=e,--l||h(new r(n,c)))}))})),--l||h(new r(n,c))}));return p.error&&h(p.value),a.promise}})},3376:(e,t,r)=>{"use strict";var a=r(6887),i=r(2529),o=r(7742).CONSTRUCTOR,n=r(6991),s=r(626),l=r(7475),u=r(9754),c=n&&n.prototype;if(a({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&l(n)){var d=s("Promise").prototype.catch;c.catch!==d&&u(c,"catch",d,{unsafe:!0})}},6934:(e,t,r)=>{"use strict";var a,i,o,n=r(6887),s=r(2529),l=r(6049),u=r(1899),c=r(8834),d=r(9754),h=r(7524),p=r(8929),f=r(904),m=r(4431),v=r(4883),g=r(7475),y=r(941),E=r(5743),b=r(487),_=r(2941).set,P=r(6132),w=r(4845),S=r(2),x=r(8397),A=r(5402),T=r(6991),R=r(7742),I=r(9520),O="Promise",C=R.CONSTRUCTOR,L=R.REJECTION_EVENT,D=R.SUBCLASSING,F=A.getterFor(O),j=A.set,N=T&&T.prototype,k=T,M=N,$=u.TypeError,U=u.document,z=u.process,H=I.f,B=H,V=!!(U&&U.createEvent&&u.dispatchEvent),G="unhandledrejection",q=function(e){var t;return!(!y(e)||!g(t=e.then))&&t},K=function(e,t){var r,a,i,o=t.value,n=1==t.state,s=n?e.ok:e.fail,l=e.resolve,u=e.reject,d=e.domain;try{s?(n||(2===t.rejection&&J(t),t.rejection=1),!0===s?r=o:(d&&d.enter(),r=s(o),d&&(d.exit(),i=!0)),r===e.promise?u($("Promise-chain cycle")):(a=q(r))?c(a,r,l,u):l(r)):u(o)}catch(e){d&&!i&&d.exit(),u(e)}},Q=function(e,t){e.notified||(e.notified=!0,P((function(){for(var r,a=e.reactions;r=a.get();)K(r,e);e.notified=!1,t&&!e.rejection&&Y(e)})))},W=function(e,t,r){var a,i;V?((a=U.createEvent("Event")).promise=t,a.reason=r,a.initEvent(e,!1,!0),u.dispatchEvent(a)):a={promise:t,reason:r},!L&&(i=u["on"+e])?i(a):e===G&&w("Unhandled promise rejection",r)},Y=function(e){c(_,u,(function(){var t,r=e.facade,a=e.value;if(Z(e)&&(t=S((function(){l?z.emit("unhandledRejection",a,r):W(G,r,a)})),e.rejection=l||Z(e)?2:1,t.error))throw t.value}))},Z=function(e){return 1!==e.rejection&&!e.parent},J=function(e){c(_,u,(function(){var t=e.facade;l?z.emit("rejectionHandled",t):W("rejectionhandled",t,e.value)}))},X=function(e,t,r){return function(a){e(t,a,r)}},ee=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,Q(e,!0))},te=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw $("Promise can't be resolved itself");var a=q(t);a?P((function(){var r={done:!1};try{c(a,t,X(te,r,e),X(ee,r,e))}catch(t){ee(r,t,e)}})):(e.value=t,e.state=1,Q(e,!1))}catch(t){ee({done:!1},t,e)}}};if(C&&(M=(k=function(e){E(this,M),v(e),c(a,this);var t=F(this);try{e(X(te,t),X(ee,t))}catch(e){ee(t,e)}}).prototype,(a=function(e){j(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})}).prototype=h(M,{then:function(e,t){var r=F(this),a=H(b(this,k));return r.parent=!0,a.ok=!g(e)||e,a.fail=g(t)&&t,a.domain=l?z.domain:void 0,0==r.state?r.reactions.add(a):P((function(){K(a,r)})),a.promise}}),i=function(){var e=new a,t=F(e);this.promise=e,this.resolve=X(te,t),this.reject=X(ee,t)},I.f=H=function(e){return e===k||void 0===e?new i(e):B(e)},!s&&g(T)&&N!==Object.prototype)){o=N.then,D||d(N,"then",(function(e,t){var r=this;return new k((function(e,t){c(o,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete N.constructor}catch(e){}p&&p(N,M)}n({global:!0,wrap:!0,forced:C},{Promise:k}),f(k,O,!1,!0),m(O)},4349:(e,t,r)=>{"use strict";var a=r(6887),i=r(2529),o=r(6991),n=r(5981),s=r(626),l=r(7475),u=r(487),c=r(6584),d=r(9754),h=o&&o.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!o&&n((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),r=l(e);return this.then(r?function(r){return c(t,e()).then((function(){return r}))}:e,r?function(r){return c(t,e()).then((function(){throw r}))}:e)}}),!i&&l(o)){var p=s("Promise").prototype.finally;h.finally!==p&&d(h,"finally",p,{unsafe:!0})}},8881:(e,t,r)=>{r(6934),r(6890),r(3376),r(5921),r(4069),r(4482)},5921:(e,t,r)=>{"use strict";var a=r(6887),i=r(8834),o=r(4883),n=r(9520),s=r(2),l=r(3091);a({target:"Promise",stat:!0,forced:r(1542)},{race:function(e){var t=this,r=n.f(t),a=r.reject,u=s((function(){var n=o(t.resolve);l(e,(function(e){i(n,t,e).then(r.resolve,a)}))}));return u.error&&a(u.value),r.promise}})},4069:(e,t,r)=>{"use strict";var a=r(6887),i=r(8834),o=r(9520);a({target:"Promise",stat:!0,forced:r(7742).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return i(t.reject,void 0,e),t.promise}})},4482:(e,t,r)=>{"use strict";var a=r(6887),i=r(626),o=r(2529),n=r(6991),s=r(7742).CONSTRUCTOR,l=r(6584),u=i("Promise"),c=o&&!s;a({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return l(c&&this===u?n:this,e)}})},1035:(e,t,r)=>{"use strict";var a=r(6887),i=r(5329),o=r(344),n=r(8219),s=r(5803),l=r(7772),u=i("".indexOf);a({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~u(s(n(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},7971:(e,t,r)=>{"use strict";var a=r(4620).charAt,i=r(5803),o=r(5402),n=r(7771),s="String Iterator",l=o.set,u=o.getterFor(s);n(String,"String",(function(e){l(this,{type:s,string:i(e),index:0})}),(function(){var e,t=u(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=a(r,i),t.index+=e.length,{value:e,done:!1})}))},2651:(e,t,r)=>{r(8002);var a=r(6887),i=r(1166);a({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},8002:(e,t,r)=>{var a=r(6887),i=r(1166);a({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==i},{trimRight:i})},8616:(e,t,r)=>{"use strict";var a=r(6887),i=r(1899),o=r(8834),n=r(5329),s=r(2529),l=r(5746),u=r(2497),c=r(5981),d=r(953),h=r(7046),p=r(6059),f=r(4529),m=r(3894),v=r(5803),g=r(1887),y=r(9290),E=r(4771),b=r(946),_=r(684),P=r(7857),w=r(9677),S=r(5988),x=r(9938),A=r(6760),T=r(9754),R=r(8726),I=r(4262),O=r(7748),C=r(9418),L=r(9813),D=r(1477),F=r(6349),j=r(9630),N=r(904),k=r(5402),M=r(3610).forEach,$=I("hidden"),U="Symbol",z=k.set,H=k.getterFor(U),B=Object.prototype,V=i.Symbol,G=V&&V.prototype,q=i.TypeError,K=i.QObject,Q=w.f,W=S.f,Y=_.f,Z=A.f,J=n([].push),X=R("symbols"),ee=R("op-symbols"),te=R("wks"),re=!K||!K.prototype||!K.prototype.findChild,ae=l&&c((function(){return 7!=y(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(e,t,r){var a=Q(B,t);a&&delete B[t],W(e,t,r),a&&e!==B&&W(B,t,a)}:W,ie=function(e,t){var r=X[e]=y(G);return z(r,{type:U,tag:e,description:t}),l||(r.description=t),r},oe=function(e,t,r){e===B&&oe(ee,t,r),p(e);var a=m(t);return p(r),d(X,a)?(r.enumerable?(d(e,$)&&e[$][a]&&(e[$][a]=!1),r=y(r,{enumerable:g(0,!1)})):(d(e,$)||W(e,$,g(1,{})),e[$][a]=!0),ae(e,a,r)):W(e,a,r)},ne=function(e,t){p(e);var r=f(t),a=E(r).concat(ce(r));return M(a,(function(t){l&&!o(se,r,t)||oe(e,t,r[t])})),e},se=function(e){var t=m(e),r=o(Z,this,t);return!(this===B&&d(X,t)&&!d(ee,t))&&(!(r||!d(this,t)||!d(X,t)||d(this,$)&&this[$][t])||r)},le=function(e,t){var r=f(e),a=m(t);if(r!==B||!d(X,a)||d(ee,a)){var i=Q(r,a);return!i||!d(X,a)||d(r,$)&&r[$][a]||(i.enumerable=!0),i}},ue=function(e){var t=Y(f(e)),r=[];return M(t,(function(e){d(X,e)||d(O,e)||J(r,e)})),r},ce=function(e){var t=e===B,r=Y(t?ee:f(e)),a=[];return M(r,(function(e){!d(X,e)||t&&!d(B,e)||J(a,X[e])})),a};u||(T(G=(V=function(){if(h(G,this))throw q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=C(e),r=function(e){this===B&&o(r,ee,e),d(this,$)&&d(this[$],t)&&(this[$][t]=!1),ae(this,t,g(1,e))};return l&&re&&ae(B,t,{configurable:!0,set:r}),ie(t,e)}).prototype,"toString",(function(){return H(this).tag})),T(V,"withoutSetter",(function(e){return ie(C(e),e)})),A.f=se,S.f=oe,x.f=ne,w.f=le,b.f=_.f=ue,P.f=ce,D.f=function(e){return ie(L(e),e)},l&&(W(G,"description",{configurable:!0,get:function(){return H(this).description}}),s||T(B,"propertyIsEnumerable",se,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),M(E(te),(function(e){F(e)})),a({target:U,stat:!0,forced:!u},{useSetter:function(){re=!0},useSimple:function(){re=!1}}),a({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(e,t){return void 0===t?y(e):ne(y(e),t)},defineProperty:oe,defineProperties:ne,getOwnPropertyDescriptor:le}),a({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ue}),j(),N(V,U),O[$]=!0},4523:(e,t,r)=>{var a=r(6887),i=r(626),o=r(953),n=r(5803),s=r(8726),l=r(5366),u=s("string-to-symbol-registry"),c=s("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=n(e);if(o(u,t))return u[t];var r=i("Symbol")(t);return u[t]=r,c[r]=t,r}})},5824:(e,t,r)=>{r(8616),r(4523),r(8608),r(2619),r(7144)},8608:(e,t,r)=>{var a=r(6887),i=r(953),o=r(6664),n=r(9826),s=r(8726),l=r(5366),u=s("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!o(e))throw TypeError(n(e)+" is not a symbol");if(i(u,e))return u[e]}})},4776:(e,t,r)=>{"use strict";var a,i=r(1899),o=r(5329),n=r(7524),s=r(1647),l=r(4683),u=r(8850),c=r(941),d=r(1584),h=r(5402).enforce,p=r(8019),f=!i.ActiveXObject&&"ActiveXObject"in i,m=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},v=l("WeakMap",m,u);if(p&&f){a=u.getConstructor(m,"WeakMap",!0),s.enable();var g=v.prototype,y=o(g.delete),E=o(g.has),b=o(g.get),_=o(g.set);n(g,{delete:function(e){if(c(e)&&!d(e)){var t=h(this);return t.frozen||(t.frozen=new a),y(this,e)||t.frozen.delete(e)}return y(this,e)},has:function(e){if(c(e)&&!d(e)){var t=h(this);return t.frozen||(t.frozen=new a),E(this,e)||t.frozen.has(e)}return E(this,e)},get:function(e){if(c(e)&&!d(e)){var t=h(this);return t.frozen||(t.frozen=new a),E(this,e)?b(this,e):t.frozen.get(e)}return b(this,e)},set:function(e,t){if(c(e)&&!d(e)){var r=h(this);r.frozen||(r.frozen=new a),E(this,e)?_(this,e,t):r.frozen.set(e,t)}else _(this,e,t);return this}})}},4334:(e,t,r)=>{r(4776)},1115:(e,t,r)=>{"use strict";r(4683)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(8850))},1773:(e,t,r)=>{r(1115)},7634:(e,t,r)=>{r(6274);var a=r(3281),i=r(1899),o=r(9697),n=r(2029),s=r(2077),l=r(9813)("toStringTag");for(var u in a){var c=i[u],d=c&&c.prototype;d&&o(d)!==l&&n(d,l,u),s[u]=s.Array}},9229:(e,t,r)=>{var a=r(6887),i=r(1899),o=r(7620).setInterval;a({global:!0,bind:!0,forced:i.setInterval!==o},{setInterval:o})},7749:(e,t,r)=>{var a=r(6887),i=r(1899),o=r(7620).setTimeout;a({global:!0,bind:!0,forced:i.setTimeout!==o},{setTimeout:o})},1249:(e,t,r)=>{r(9229),r(7749)},9216:(e,t,r)=>{var a=r(9324);e.exports=a},8196:(e,t,r)=>{var a=r(6246);e.exports=a},8065:(e,t,r)=>{var a=r(6043);e.exports=a},1955:(e,t,r)=>{var a=r(2480);e.exports=a},1577:(e,t,r)=>{var a=r(2236);e.exports=a},6279:(e,t,r)=>{r(7634);var a=r(9697),i=r(953),o=r(7046),n=r(9216),s=Array.prototype,l={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===s||o(s,e)&&t===s.forEach||i(l,a(e))?n:t}},3778:(e,t,r)=>{var a=r(8557);e.exports=a},9373:(e,t,r)=>{var a=r(4570);e.exports=a},5286:(e,t,r)=>{var a=r(8299);e.exports=a},2348:(e,t,r)=>{var a=r(8339);e.exports=a},5202:(e,t,r)=>{var a=r(1688);e.exports=a},8933:(e,t,r)=>{var a=r(4426);e.exports=a},3383:(e,t,r)=>{var a=r(5999);e.exports=a},7396:(e,t,r)=>{var a=r(7702);e.exports=a},1910:(e,t,r)=>{var a=r(8171);e.exports=a},9427:(e,t,r)=>{var a=r(286);e.exports=a},2857:(e,t,r)=>{var a=r(2766);e.exports=a},9534:(e,t,r)=>{var a=r(498);e.exports=a},3059:(e,t,r)=>{var a=r(8494);e.exports=a},7795:(e,t,r)=>{var a=r(8430);e.exports=a},7460:(e,t,r)=>{var a=r(2956);r(7634),e.exports=a},7989:(e,t,r)=>{r(1249);var a=r(4058);e.exports=a.setTimeout},2010:(e,t,r)=>{var a=r(2304);r(7634),e.exports=a},3726:(e,t,r)=>{var a=r(9567);r(7634),e.exports=a},4063:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var a,i,o;if(Array.isArray(t)){if((a=t.length)!=r.length)return!1;for(i=a;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((a=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=a;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=a;0!=i--;){var n=o[i];if(!e(t[n],r[n]))return!1}return!0}return t!=t&&r!=r}},5035:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,a="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,a){var i={key:t,value:e[t]},o={key:a,value:e[a]};return r(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,n;if(Array.isArray(t)){for(n="[",r=0;r<t.length;r++)r&&(n+=","),n+=e(t[r])||"null";return n+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(n="",r=0;r<l.length;r++){var u=l[r],c=e(t[u]);c&&(n&&(n+=","),n+=JSON.stringify(u)+":"+c)}return o.splice(s,1),"{"+n+"}"}}(e)}},9461:e=>{"use strict";var t=e.exports=function(e,t,a){"function"==typeof t&&(a=t,t={}),r(t,"function"==typeof(a=t.cb||a)?a:a.pre||function(){},a.post||function(){},e,"",e)};function r(e,a,i,o,n,s,l,u,c,d){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in a(o,n,s,l,u,c,d),o){var p=o[h];if(Array.isArray(p)){if(h in t.arrayKeywords)for(var f=0;f<p.length;f++)r(e,a,i,p[f],n+"/"+h+"/"+f,s,n,h,o,f)}else if(h in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)r(e,a,i,p[m],n+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,n,h,o,m)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&r(e,a,i,p,n+"/"+h,s,n,h,o)}i(o,n,s,l,u,c,d)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},1989:(e,t,r)=>{var a=r(1789),i=r(401),o=r(7667),n=r(1327),s=r(1866);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=n,l.prototype.set=s,e.exports=l},8407:(e,t,r)=>{var a=r(7040),i=r(4125),o=r(2117),n=r(7518),s=r(4705);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=n,l.prototype.set=s,e.exports=l},7071:(e,t,r)=>{var a=r(852)(r(5639),"Map");e.exports=a},3369:(e,t,r)=>{var a=r(4785),i=r(1285),o=r(6e3),n=r(9916),s=r(5265);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=n,l.prototype.set=s,e.exports=l},2705:(e,t,r)=>{var a=r(5639).Symbol;e.exports=a},9932:e=>{e.exports=function(e,t){for(var r=-1,a=null==e?0:e.length,i=Array(a);++r<a;)i[r]=t(e[r],r,e);return i}},8470:(e,t,r)=>{var a=r(7813);e.exports=function(e,t){for(var r=e.length;r--;)if(a(e[r][0],t))return r;return-1}},7786:(e,t,r)=>{var a=r(1811),i=r(327);e.exports=function(e,t){for(var r=0,o=(t=a(t,e)).length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}},4239:(e,t,r)=>{var a=r(2705),i=r(9607),o=r(2333),n=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?i(e):o(e)}},8458:(e,t,r)=>{var a=r(3560),i=r(5346),o=r(3218),n=r(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,h=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(a(e)?h:s).test(n(e))}},531:(e,t,r)=>{var a=r(2705),i=r(9932),o=r(1469),n=r(3448),s=a?a.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(n(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},1811:(e,t,r)=>{var a=r(1469),i=r(5403),o=r(5514),n=r(9833);e.exports=function(e,t){return a(e)?e:i(e,t)?[e]:o(n(e))}},4429:(e,t,r)=>{var a=r(5639)["__core-js_shared__"];e.exports=a},1957:(e,t,r)=>{var a="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=a},5050:(e,t,r)=>{var a=r(7019);e.exports=function(e,t){var r=e.__data__;return a(t)?r["string"==typeof t?"string":"hash"]:r.map}},852:(e,t,r)=>{var a=r(8458),i=r(7801);e.exports=function(e,t){var r=i(e,t);return a(r)?r:void 0}},9607:(e,t,r)=>{var a=r(2705),i=Object.prototype,o=i.hasOwnProperty,n=i.toString,s=a?a.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var a=!0}catch(e){}var i=n.call(e);return a&&(t?e[s]=r:delete e[s]),i}},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,r)=>{var a=r(4536);e.exports=function(){this.__data__=a?a(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,r)=>{var a=r(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(a){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},1327:(e,t,r)=>{var a=r(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return a?void 0!==t[e]:i.call(t,e)}},1866:(e,t,r)=>{var a=r(4536);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=a&&void 0===t?"__lodash_hash_undefined__":t,this}},5403:(e,t,r)=>{var a=r(1469),i=r(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;e.exports=function(e,t){if(a(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||n.test(e)||!o.test(e)||null!=t&&e in Object(t)}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,r)=>{var a,i=r(4429),o=(a=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";e.exports=function(e){return!!o&&o in e}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,r)=>{var a=r(8470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=a(t,e);return!(r<0||(r==t.length-1?t.pop():i.call(t,r,1),--this.size,0))}},2117:(e,t,r)=>{var a=r(8470);e.exports=function(e){var t=this.__data__,r=a(t,e);return r<0?void 0:t[r][1]}},7518:(e,t,r)=>{var a=r(8470);e.exports=function(e){return a(this.__data__,e)>-1}},4705:(e,t,r)=>{var a=r(8470);e.exports=function(e,t){var r=this.__data__,i=a(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},4785:(e,t,r)=>{var a=r(1989),i=r(8407),o=r(7071);e.exports=function(){this.size=0,this.__data__={hash:new a,map:new(o||i),string:new a}}},1285:(e,t,r)=>{var a=r(5050);e.exports=function(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,r)=>{var a=r(5050);e.exports=function(e){return a(this,e).get(e)}},9916:(e,t,r)=>{var a=r(5050);e.exports=function(e){return a(this,e).has(e)}},5265:(e,t,r)=>{var a=r(5050);e.exports=function(e,t){var r=a(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},4569:(e,t,r)=>{var a=r(8306);e.exports=function(e){var t=a(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},4536:(e,t,r)=>{var a=r(852)(Object,"create");e.exports=a},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:(e,t,r)=>{var a=r(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=a||i||Function("return this")();e.exports=o},5514:(e,t,r)=>{var a=r(4569),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,n=a((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,r,a,i){t.push(a?i.replace(o,"$1"):r||e)})),t}));e.exports=n},327:(e,t,r)=>{var a=r(3448);e.exports=function(e){if("string"==typeof e||a(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},7361:(e,t,r)=>{var a=r(7786);e.exports=function(e,t,r){var i=null==e?void 0:a(e,t);return void 0===i?r:i}},1469:e=>{var t=Array.isArray;e.exports=t},3560:(e,t,r)=>{var a=r(4239),i=r(3218);e.exports=function(e){if(!i(e))return!1;var t=a(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,r)=>{var a=r(4239),i=r(7005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==a(e)}},8306:(e,t,r)=>{var a=r(3369);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var a=arguments,i=t?t.apply(this,a):a[0],o=r.cache;if(o.has(i))return o.get(i);var n=e.apply(this,a);return r.cache=o.set(i,n)||o,n};return r.cache=new(i.Cache||a),r}i.Cache=a,e.exports=i},9833:(e,t,r)=>{var a=r(531);e.exports=function(e){return null==e?"":a(e)}},540:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var a=t.length-1,i=1;i<a;++i)t[i]=t[i].slice(1,-1);return t[a]=t[a].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function a(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var a="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),n=r(r("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+r("%[89A-Fa-f]"+o+"%"+o+o)+"|"+r("%"+o+o)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",s),u=e?"[\\uE000-\\uF8FF]":"[]",c=t(a,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),d=r(a+t(a,i,"[\\+\\-\\.]")+"*"),h=r(r(n+"|"+t(c,s,"[\\:]"))+"*"),p=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|"+i),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?"+i)),f=r(p+"\\."+p+"\\."+p+"\\."+p),m=r(o+"{1,4}"),v=r(r(m+"\\:"+m)+"|"+f),g=r(r(m+"\\:")+"{6}"+v),y=r("\\:\\:"+r(m+"\\:")+"{5}"+v),E=r(r(m)+"?\\:\\:"+r(m+"\\:")+"{4}"+v),b=r(r(r(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+r(m+"\\:")+"{3}"+v),_=r(r(r(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+r(m+"\\:")+"{2}"+v),P=r(r(r(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+v),w=r(r(r(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+v),S=r(r(r(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),x=r(r(r(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),A=r([g,y,E,b,_,P,w,S,x].join("|")),T=r(r(c+"|"+n)+"+"),R=(r(A+"\\%25"+T),r(A+r("\\%25|\\%(?!"+o+"{2})")+T)),I=r("[vV]"+o+"+\\."+t(c,s,"[\\:]")+"+"),O=r("\\["+r(R+"|"+A+"|"+I)+"\\]"),C=r(r(n+"|"+t(c,s))+"*"),L=r(O+"|"+f+"(?!"+C+")|"+C),D=r("[0-9]*"),F=r(r(h+"@")+"?"+L+r("\\:"+D)+"?"),j=r(n+"|"+t(c,s,"[\\:\\@]")),N=r(j+"*"),k=r(j+"+"),M=r(r(n+"|"+t(c,s,"[\\@]"))+"+"),$=r(r("\\/"+N)+"*"),U=r("\\/"+r(k+$)+"?"),z=r(M+$),H=r(k+$),B="(?!"+j+")",V=(r($+"|"+U+"|"+z+"|"+H+"|"+B),r(r(j+"|"+t("[\\/\\?]",u))+"*")),G=r(r(j+"|[\\/\\?]")+"*"),q=r(r("\\/\\/"+F+$)+"|"+U+"|"+H+"|"+B),K=r(d+"\\:"+q+r("\\?"+V)+"?"+r("\\#"+G)+"?"),Q=r(r("\\/\\/"+F+$)+"|"+U+"|"+z+"|"+B),W=r(Q+r("\\?"+V)+"?"+r("\\#"+G)+"?");return r(K+"|"+W),r(d+"\\:"+q+r("\\?"+V)+"?"),r(r("\\/\\/("+r("("+h+")@")+"?("+L+")"+r("\\:("+D+")")+"?)")+"?("+$+"|"+U+"|"+H+"|"+B+")"),r("\\?("+V+")"),r("\\#("+G+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+L+")"+r("\\:("+D+")")+"?)")+"?("+$+"|"+U+"|"+z+"|"+B+")"),r("\\?("+V+")"),r("\\#("+G+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+L+")"+r("\\:("+D+")")+"?)")+"?("+$+"|"+U+"|"+H+"|"+B+")"),r("\\?("+V+")"),r("\\#("+G+")"),r("("+h+")@"),r("\\:("+D+")"),{NOT_SCHEME:new RegExp(t("[^]",a,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,s),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,s),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,s),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,s),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,s,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,s),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,l),"g"),PCT_ENCODED:new RegExp(n,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+A+")"+r(r("\\%25|\\%(?!"+o+"{2})")+"("+T+")")+"?\\]?$")}}var n=o(!1),s=o(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,i=!1,o=void 0;try{for(var n,s=e[Symbol.iterator]();!(a=(n=s.next()).done)&&(r.push(n.value),!t||r.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,c=36,d=/^xn--/,h=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,v=String.fromCharCode;function g(e){throw new RangeError(f[e])}function y(e,t){var r=e.split("@"),a="";return r.length>1&&(a=r[0]+"@",e=r[1]),a+function(e,t){for(var r=[],a=e.length;a--;)r[a]=t(e[a]);return r}((e=e.replace(p,".")).split("."),t).join(".")}function E(e){for(var t=[],r=0,a=e.length;r<a;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<a){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},_=function(e,t,r){var a=0;for(e=r?m(e/700):e>>1,e+=m(e/t);e>455;a+=c)e=m(e/35);return m(a+36*e/(e+38))},P=function(e){var t,r=[],a=e.length,i=0,o=128,n=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var l=0;l<s;++l)e.charCodeAt(l)>=128&&g("not-basic"),r.push(e.charCodeAt(l));for(var d=s>0?s+1:0;d<a;){for(var h=i,p=1,f=c;;f+=c){d>=a&&g("invalid-input");var v=(t=e.charCodeAt(d++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:c;(v>=c||v>m((u-i)/p))&&g("overflow"),i+=v*p;var y=f<=n?1:f>=n+26?26:f-n;if(v<y)break;var E=c-y;p>m(u/E)&&g("overflow"),p*=E}var b=r.length+1;n=_(i-h,b,0==h),m(i/b)>u-o&&g("overflow"),o+=m(i/b),i%=b,r.splice(i++,0,o)}return String.fromCodePoint.apply(String,r)},w=function(e){var t=[],r=(e=E(e)).length,a=128,i=0,o=72,n=!0,s=!1,l=void 0;try{for(var d,h=e[Symbol.iterator]();!(n=(d=h.next()).done);n=!0){var p=d.value;p<128&&t.push(v(p))}}catch(e){s=!0,l=e}finally{try{!n&&h.return&&h.return()}finally{if(s)throw l}}var f=t.length,y=f;for(f&&t.push("-");y<r;){var P=u,w=!0,S=!1,x=void 0;try{for(var A,T=e[Symbol.iterator]();!(w=(A=T.next()).done);w=!0){var R=A.value;R>=a&&R<P&&(P=R)}}catch(e){S=!0,x=e}finally{try{!w&&T.return&&T.return()}finally{if(S)throw x}}var I=y+1;P-a>m((u-i)/I)&&g("overflow"),i+=(P-a)*I,a=P;var O=!0,C=!1,L=void 0;try{for(var D,F=e[Symbol.iterator]();!(O=(D=F.next()).done);O=!0){var j=D.value;if(j<a&&++i>u&&g("overflow"),j==a){for(var N=i,k=c;;k+=c){var M=k<=o?1:k>=o+26?26:k-o;if(N<M)break;var $=N-M,U=c-M;t.push(v(b(M+$%U,0))),N=m($/U)}t.push(v(b(N,0))),o=_(i,I,y==f),i=0,++y}}}catch(e){C=!0,L=e}finally{try{!O&&F.return&&F.return()}finally{if(C)throw L}}++i,++a}return t.join("")},S=function(e){return y(e,(function(e){return h.test(e)?"xn--"+w(e):e}))},x=function(e){return y(e,(function(e){return d.test(e)?P(e.slice(4).toLowerCase()):e}))},A={};function T(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function R(e){for(var t="",r=0,a=e.length;r<a;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(a-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(a-r>=9){var n=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&n)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function I(e,t){function r(e){var r=R(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,T).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,T).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,T).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,T).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,T).replace(t.PCT_ENCODED,i)),e}function O(e){return e.replace(/^0*(.*)/,"$1")||"0"}function C(e,t){var r=e.match(t.IPV4ADDRESS)||[],a=l(r,2)[1];return a?a.split(".").map(O).join("."):e}function L(e,t){var r=e.match(t.IPV6ADDRESS)||[],a=l(r,3),i=a[1],o=a[2];if(i){for(var n=i.toLowerCase().split("::").reverse(),s=l(n,2),u=s[0],c=s[1],d=c?c.split(":").map(O):[],h=u.split(":").map(O),p=t.IPV4ADDRESS.test(h[h.length-1]),f=p?7:8,m=h.length-f,v=Array(f),g=0;g<f;++g)v[g]=d[g]||h[m+g]||"";p&&(v[f-1]=C(v[f-1],t));var y=v.reduce((function(e,t,r){if(!t||"0"===t){var a=e[e.length-1];a&&a.index+a.length===r?a.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],E=void 0;if(y&&y.length>1){var b=v.slice(0,y.index),_=v.slice(y.index+y.length);E=b.join(":")+"::"+_.join(":")}else E=v.join(":");return o&&(E+="%"+o),E}return e}var D=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,F=void 0==="".match(/(){0}/)[1];function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},a=!1!==t.iri?s:n;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(D);if(i){F?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=L(C(r.host,a),a)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var o=A[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)I(r,a);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=S(r.host.replace(a.PCT_ENCODED,R).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}I(r,n)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function N(e,t){var r=!1!==t.iri?s:n,a=[];return void 0!==e.userinfo&&(a.push(e.userinfo),a.push("@")),void 0!==e.host&&a.push(L(C(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(a.push(":"),a.push(String(e.port))),a.length?a.join(""):void 0}var k=/^\.\.?\//,M=/^\/\.(\/|$)/,$=/^\/\.\.(\/|$)/,U=/^\/?(?:.|\n)*?(?=\/|$)/;function z(e){for(var t=[];e.length;)if(e.match(k))e=e.replace(k,"");else if(e.match(M))e=e.replace(M,"/");else if(e.match($))e=e.replace($,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(U);if(!r)throw new Error("Unexpected dot segment condition");var a=r[0];e=e.slice(a.length),t.push(a)}return t.join("")}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:n,a=[],i=A[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?x(e.host):S(e.host.replace(r.PCT_ENCODED,R).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}I(e,r),"suffix"!==t.reference&&e.scheme&&(a.push(e.scheme),a.push(":"));var o=N(e,t);if(void 0!==o&&("suffix"!==t.reference&&a.push("//"),a.push(o),e.path&&"/"!==e.path.charAt(0)&&a.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||i&&i.absolutePath||(l=z(l)),void 0===o&&(l=l.replace(/^\/\//,"/%2F")),a.push(l)}return void 0!==e.query&&(a.push("?"),a.push(e.query)),void 0!==e.fragment&&(a.push("#"),a.push(e.fragment)),a.join("")}function B(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={};return arguments[3]||(e=j(H(e,r),r),t=j(H(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(a.scheme=t.scheme,a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=z(t.path||""),a.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=z(t.path||""),a.query=t.query):(t.path?("/"===t.path.charAt(0)?a.path=z(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?a.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:a.path=t.path:a.path="/"+t.path,a.path=z(a.path)),a.query=t.query):(a.path=e.path,void 0!==t.query?a.query=t.query:a.query=e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=t.fragment,a}function V(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:n.PCT_ENCODED,R)}var G={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},q={scheme:"https",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize};function K(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var Q={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=K(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(K(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),a=l(r,2),i=a[0],o=a[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},W={scheme:"wss",domainHost:Q.domainHost,parse:Q.parse,serialize:Q.serialize},Y={},Z="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",J="[0-9A-Fa-f]",X=r(r("%[EFef][0-9A-Fa-f]%"+J+J+"%"+J+J)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+J+J)+"|"+r("%"+J+J)),ee=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),te=new RegExp(Z,"g"),re=new RegExp(X,"g"),ae=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ee),"g"),ie=new RegExp(t("[^]",Z,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),oe=ie;function ne(e){var t=R(e);return t.match(te)?t:e}var se={scheme:"mailto",parse:function(e,t){var r=e,a=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,o={},n=r.query.split("&"),s=0,l=n.length;s<l;++s){var u=n[s].split("=");switch(u[0]){case"to":for(var c=u[1].split(","),d=0,h=c.length;d<h;++d)a.push(c[d]);break;case"subject":r.subject=V(u[1],t);break;case"body":r.body=V(u[1],t);break;default:i=!0,o[V(u[0],t)]=V(u[1],t)}}i&&(r.headers=o)}r.query=void 0;for(var p=0,f=a.length;p<f;++p){var m=a[p].split("@");if(m[0]=V(m[0]),t.unicodeSupport)m[1]=V(m[1],t).toLowerCase();else try{m[1]=S(V(m[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}a[p]=m.join("@")}return r},serialize:function(e,t){var r,a=e,o=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(o){for(var n=0,s=o.length;n<s;++n){var l=String(o[n]),u=l.lastIndexOf("@"),c=l.slice(0,u).replace(re,ne).replace(re,i).replace(ae,T),d=l.slice(u+1);try{d=t.iri?x(d):S(V(d,t).toLowerCase())}catch(e){a.error=a.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[n]=c+"@"+d}a.path=o.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var f in h)h[f]!==Y[f]&&p.push(f.replace(re,ne).replace(re,i).replace(ie,T)+"="+h[f].replace(re,ne).replace(re,i).replace(oe,T));return p.length&&(a.query=p.join("&")),a}},le=/^([^\:]+)\:(.*)/,ue={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(le),a=e;if(r){var i=t.scheme||a.scheme||"urn",o=r[1].toLowerCase(),n=r[2],s=i+":"+(t.nid||o),l=A[s];a.nid=o,a.nss=n,a.path=void 0,l&&(a=l.parse(a,t))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",a=e.nid,i=r+":"+(t.nid||a),o=A[i];o&&(e=o.serialize(e,t));var n=e,s=e.nss;return n.path=(a||t.nid)+":"+s,n}},ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,de={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ce)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};A[G.scheme]=G,A[q.scheme]=q,A[Q.scheme]=Q,A[W.scheme]=W,A[se.scheme]=se,A[ue.scheme]=ue,A[de.scheme]=de,e.SCHEMES=A,e.pctEncChar=T,e.pctDecChars=R,e.parse=j,e.removeDotSegments=z,e.serialize=H,e.resolveComponents=B,e.resolve=function(e,t,r){var a=function(e,t){var r=e;if(t)for(var a in t)r[a]=t[a];return r}({scheme:"null"},r);return H(B(j(e,a),j(t,a),a,!0),a)},e.normalize=function(e,t){return"string"==typeof e?e=H(j(e,t),t):"object"===a(e)&&(e=j(H(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=H(j(e,r),r):"object"===a(e)&&(e=H(e,r)),"string"==typeof t?t=H(j(t,r),r):"object"===a(t)&&(t=H(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:n.ESCAPE,T)},e.unescapeComponent=V,Object.defineProperty(e,"__esModule",{value:!0})}(t)},894:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},6680:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},120:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/schema#","version":"1.0.0","title":"Validation for properties when create embedded dossier","type":"object","required":["placeholder"],"oneOf":[{"required":["url"]},{"required":["serverURL","applicationID"],"anyOf":[{"required":["newDossier"]},{"required":["objectID"]}]}],"properties":{"url":{"description":"Url for embedded dossier","type":"string","pattern":"(http(s)?://.)?[-a-zA-Z0-9@:%._~#=+/]*/app/(config/[A-Z0-9]+/)?[A-Z0-9]+/[A-Z0-9]+"},"placeholder":{"description":"placeholder to hold the embedded dossier","type":"object"},"serverURL":{"description":"url for library","type":"string","pattern":"(http(s)?://.)?[-a-zA-Z0-9@:%._~#=+/]*"},"configAppId":{"description":"custom app id for the embedded dossier","type":"string","pattern":"^[A-Z0-9]+$"},"applicationID":{"description":"applicate/project id for the embedded dossier","type":"string","pattern":"^[A-Z0-9]+$"},"objectID":{"description":"object id for the embedded dossier","type":"string","pattern":"^[A-Z0-9]+$"},"pageKey":{"description":"page key for the embedded dossier","type":"string","pattern":"^[-A-Z0-9]+$"},"disableNotification":{"description":"whether to disable notification","type":"boolean"},"instance":{"description":"instance info of embedded dossier","type":"object","properties":{"mid":{"description":"instance id","type":"string","pattern":"^[A-Z0-9]+$"},"id":{"description":"instance id for report-based in-memory dossier","type":"string"},"partialManipulation":{"description":"personal view partial execution status","type":"boolean"},"status":{"description":"dossier instance execution status","type":"number"}}},"filters":{"description":"url parameter to apply attribute filter during execution","type":"array","items":{"description":"single attribute filter parameter","type":"object","required":["selections"],"anyOf":[{"required":["key"]},{"required":["name"]}],"properties":{"key":{"description":"attribute filter key","type":"string"},"name":{"description":"attribute filter name","type":"string"},"selections":{"description":"attribute filter selections","type":"array","items":{"type":"object","anyOf":[{"required":["id"]},{"required":["name"]}],"properties":{"id":{"description":"element id to select","type":"string"},"name":{"description":"element name to select","type":"string"}}},"minItems":1}}}},"enableCollaboration":{"description":"enable collaboration","type":"boolean"},"dockedTOC":{"description":"url parameter to configure docked TOC on UI","type":"object","properties":{"dockedPosition":{"description":"position of docked panel, only left or right is accepted","type":"string","pattern":"\\\\bleft\\\\b|\\\\bright\\\\b"},"theme":{"description":"theme of docked panel, only dark or light is accepted","type":"string","pattern":"\\\\bdark\\\\b|\\\\blight\\\\b"},"canClose":{"description":"if set to false, panel will be forced to be displayed","type":"boolean"},"dockChangeable":{"description":"if set to false, dock/pin button will be hidden, this panel docked status will be controlled by isDocked","type":"boolean"},"isDocked":{"description":"configure whether this panel is docked","type":"boolean"}}},"dockedComment":{"description":"url parameter to configure docked comment on UI","type":"object","properties":{"dockedPosition":{"description":"position of docked panel, only left or right is accepted","type":"string","pattern":"\\\\bleft\\\\b|\\\\bright\\\\b"},"canClose":{"description":"if set to false, panel will be forced to be displayed","type":"boolean"},"dockChangeable":{"description":"if set to false, dock/pin button will be hidden, this panel docked status will be controlled by isDocked","type":"boolean"},"isDocked":{"description":"configure whether this panel is docked","type":"boolean"}}},"dockedFilter":{"description":"url parameter to configure docked filter panel on UI","type":"object","properties":{"dockedPosition":{"description":"position of docked panel, only left or right is accepted","type":"string","pattern":"\\\\bleft\\\\b|\\\\bright\\\\b"},"canClose":{"description":"if set to false, panel will be forced to be displayed","type":"boolean"},"dockChangeable":{"description":"if set to false, dock/pin button will be hidden, this panel docked status will be controlled by isDocked","type":"boolean"},"isDocked":{"description":"configure whether this panel is docked","type":"boolean"}}},"navigationBar":{"$ref":"dossier-consumption-navigation-bar"},"customUi":{"description":"The customized UI configurations","type":"object","properties":{"library":{"$ref":"home-custom-ui"}}},"uiMessage":{"description":"customize message on UI","type":"object","properties":{"enabled":{"description":"enable/disable message","type":"boolean"},"addToLibrary":{"description":"enable/disable addToLibrary message","type":"boolean"}}},"dossierFeature":{"description":"customize dossier feature on UI","type":"object","properties":{"readonly":{"description":"If true, navigation bar and context menu will be disabled","type":"boolean"},"visExport":{"description":"customize visualization export on UI","type":"object","properties":{"enabled":{"description":"enable/disable export feature for dossier visualizations","type":"boolean"},"excel":{"description":"enable/disable export to Excel for dossier visualizations","type":"boolean"},"pdf":{"description":"enable/disable export to PDF for dossier visualizations","type":"boolean"},"csv":{"description":"enable/disable export to CSV for dossier visualizations","type":"boolean"}}}}},"tocFeature":{"description":"customize toc feature on UI","type":"object","properties":{"enabled":{"description":"enable/disable toc group feature","type":"boolean"}}},"filterFeature":{"description":"customize filter feature on UI","type":"object","properties":{"enabled":{"description":"enable/disable filter group feature","type":"boolean"},"edit":{"description":"show/hide filter edit function","type":"boolean"},"summary":{"description":"show/hide filter summary bar","type":"boolean"}}},"shareFeature":{"description":"customize share feature on UI","type":"object","properties":{"enabled":{"description":"enable/disable share group feature","type":"boolean"},"invite":{"description":"show/hide invite function","type":"boolean"},"link":{"description":"show/hide link function","type":"boolean"},"email":{"description":"show/hide email function","type":"boolean"},"export":{"description":"show/hide export function","type":"boolean"},"download":{"description":"show/hide download function","type":"boolean"},"subscribe":{"description":"show/hide all entries for subscription","type":"boolean"}}},"optionsFeature":{"description":"customize options feature on UI","type":"object","properties":{"enabled":{"description":"enable/disable options group feature","type":"boolean"},"help":{"description":"show/hide help function","type":"boolean"},"logout":{"description":"show/hide logout function","type":"boolean"},"manage":{"description":"show/hide manage function","type":"boolean"},"myLibraries":{"description":"show/hide myLibraries function","type":"boolean"},"preferences":{"description":"show/hide preferences function","type":"boolean"},"showTutorials":{"description":"show/hide showTutorials function","type":"boolean"}}},"reportInLibraryFeature":{"description":"customize reportInLibrary feature availability in Library","type":"object","properties":{"enabled":{"description":"enable/disable library report feature","type":"boolean"}}},"visibleTutorials":{"description":"customize visible tutorial","type":"object","properties":{"library":{"description":"enable/disable library tutorial","type":"boolean"},"welcome":{"description":"enable/disable welcome tutorial","type":"boolean"},"dossier":{"description":"enable/disable dossier tutorial","type":"boolean"},"notification":{"description":"enable/disable notification tutorial","type":"boolean"}}},"persistViewState":{"description":"persist view state","type":"boolean"},"smartBanner":{"description":"enable or disable Smart Banner","type":"boolean"},"enableVizSelection":{"description":"flag to enable select visualizations","type":"boolean"},"selectedViz":{"description":"viz key to pre-select at dossier rendering","type":"string"},"disableCustomErrorHandlerOnCreate":{"description":"enable or disable custom error handler on dossier.create stage","type":"boolean"},"visualizationAppearances":{"description":"parameter to specify which visualizations should be maximized","type":"array","maxItems":1,"items":{"description":"single visualization appearance","type":"object","required":["visualizationKey"],"anyOf":[{"required":["size"]},{"required":["resizeButtonVisible"]}],"properties":{"visualizationKey":{"description":"visualization key","type":"string","pattern":"^[A-Z0-9]+$"},"size":{"description":"visualization size","type":"string","pattern":"(^(maximized|normal)$)"},"resizeButtonVisible":{"description":"resize button is visible or not","type":"boolean"}}}},"visualizationSelectedElements":{"description":"parameter to select visualization attribute elements","type":"array","items":{"type":"object","required":["visualizationkey"],"properties":{"visualizationkey":{"type":"string","description":"visualization key"},"selection":{"type":"object","required":["attributeElements"],"properties":{"attributeElements":{"description":"selected attribute elements","type":"array","items":{"description":"signle selected attribute and elements","type":"object","required":["attribute","elements"],"properties":{"attribute":{"description":"attribute info","type":"object","required":["id"],"properties":{"id":{"description":"attribute id","type":"string"},"name":{"description":"attribute name","type":"string"}}},"elements":{"description":"attribute elements","type":"array","items":{"description":"single attribute element item","type":"object","required":["id"],"properties":{"id":{"description":"element id","type":"string"},"name":{"description":"element name","type":"string"}}}}}}}}}}}},"dossierRenderingMode":{"description":"dossier rendering mode, consumption or authoring","type":"string","pattern":"(^(consumption|authoring)$)"},"newDossier":{"description":"Create a new dossier instance from the empty template or not","type":"boolean"},"authoring":{"$ref":"dossier-authoring-custom-ui"}}}')},2364:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/schema#","version":"1.0.0","title":"suppress toolbar items, or control the visibility of panels in authoring mode","type":"object","properties":{"toolbar":{"description":"toolbar items","type":"object","patternProperties":{".*":{"type":"object","properties":{"visible":{"description":"toolbar item visible","type":"boolean"}}}}},"menubar":{"description":"menubar items","type":"object","properties":{"library":{"type":"object","properties":{"visible":{"description":"library icon visibility","type":"boolean"}}}}},"panelVisibility":{"description":"The visibility of panels","type":"object","patternProperties":{"^(contents|datasets|editor|filter|format|layers)$":{"description":"The visibility of different panels","type":"boolean"}}}}}')},4232:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/schema#","version":"1.0.0","title":"Validation for navigation bar properties of dossier consumption page","type":"object","properties":{"enabled":{"description":"enable/disable navigation bar","type":"boolean"},"gotoLibrary":{"description":"show/hide gotoLibrary icon","type":"boolean"},"title":{"description":"show/hide dossier title","type":"boolean"},"toc":{"description":"show/hide toc icon","type":"boolean"},"reset":{"description":"show/hide rest icon","type":"boolean"},"reprompt":{"description":"show/hide reprompt icon","type":"boolean"},"share":{"description":"show/hide share icon","type":"boolean"},"comment":{"description":"show/hide comment icon","type":"boolean"},"notification":{"description":"show/hide notification icon","type":"boolean"},"filter":{"description":"show/hide filter icon","type":"boolean"},"options":{"description":"show/hide options icon","type":"boolean"},"search":{"description":"show/hide search icon","type":"boolean"},"bookmark":{"description":"show/hide bookmark icon","type":"boolean"},"edit":{"description":"show/hide edit icon","type":"boolean"}}}')},6936:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/schema#","version":"1.0.0","title":"Validation for properties when embedding Library main page","type":"object","required":["serverUrl","placeholder"],"properties":{"serverUrl":{"description":"Server url for embedded page","type":"string","pattern":"(http(s)?://.)?[-a-zA-Z0-9@:%._~#=+/]*"},"placeholder":{"description":"placeholder to hold the embedded page","type":"object"},"customApplicationID":{"description":"The custom application id for the embeddedding the page","type":"string","pattern":"^[A-Z0-9]+$"},"disableCustomErrorHandlerOnCreate":{"description":"enable or disable custom error handler","type":"boolean"},"customUi":{"description":"The customized UI configurations","type":"object","properties":{"library":{"$ref":"home-custom-ui"},"dossierConsumption":{"description":"The customized UI configurations in dossier consumption page","type":"object","properties":{"navigationBar":{"$ref":"dossier-consumption-navigation-bar"}}},"dossierAuthoring":{"$ref":"dossier-authoring-custom-ui"}}},"currentPage":{"description":"The sidebar page that would be shown in embedding","type":"object","required":["key"],"properties":{"key":{"description":"The sidebar page key","type":"string","pattern":"(^(all|myContent|favorites|recents|insights|subscriptions|defaultGroups|myGroups)$)"},"targetGroup":{"description":"The group that the user wants to enter","type":"object","anyOf":[{"required":["id"]},{"required":["name"]}],"properties":{"id":{"description":"The group id","type":"string"},"name":{"description":"The group name","type":"string"}}}}}}}')},9377:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-04/schema#","version":"1.0.0","title":"Validation for custom UI properties of MicroStrategy Library home page","type":"object","properties":{"navigationBar":{"description":"The navigation bar customized UI configurations","type":"object","properties":{"enabled":{"description":"Enable the navigation bar or not","type":"boolean"},"sortAndFilter":{"description":"Enable the sort bar and the filter button or not","type":"boolean"},"title":{"description":"Enable the title or not","type":"boolean"},"searchBar":{"description":"Enable the search bar or not","type":"boolean"},"createNew":{"description":"Enable the create new button or not","type":"object","properties":{"enabled":{"description":"Enable the create new button or not","type":"boolean"}}},"notifications":{"description":"Enable the notifications or not","type":"boolean"},"multiSelect":{"description":"Enable the Multi-select button or not","type":"object","properties":{"enabled":{"description":"Enable the Multi-select button or not","type":"boolean"}}},"account":{"description":"Enable the create new button or not","type":"object","properties":{"enabled":{"description":"Enable the create new button or not","type":"boolean"}}}}},"sidebar":{"description":"The sidebar customized UI configurations","type":"object","properties":{"show":{"description":"Expand the sidebar or not","type":"boolean"},"enabled":{"description":"Enable the sidebar or not","type":"boolean"}}}}}')}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={exports:{}};return r[e].call(o.exports,o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"==typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"==typeof r.then)return r}var o=Object.create(null);i.r(o);var n={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>n[e]=()=>r[e]));return n.default=()=>r,i.d(o,n),o},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";i.d(o,{Z:()=>Or});var e=i(9340),t=i.n(e),r=i(455),a=i.n(r),n=i(116),s=i.n(n),l=i(8914),u=i.n(l),c=i(3032),d=i.n(c),h=i(3476),p=i.n(h),f=i(1643),m=i.n(f),v=i(2762),g=i.n(v),y=i(4473),E=i.n(y),b=i(1942),_=i.n(b),P=i(954),w=i.n(P),S=i(7149),x=i.n(S),A=i(7766),T=i.n(A),R=i(6902),I=i.n(R);const O={HAND_SHAKE:"handshake",RAISE_EVENT:"raiseevent",FUNC_CALL:"funccall"},C=["equals","not equals","greater","greater equal","less","less equal","between","not between","in","not in","is null","is not null"],L=["highest","lowest","highest percent","lowest percent"],D={GO_TO_PAGE:"goToPage",GET_DOSSIER_STRUCTURE:"getDossierStructure",GET_DOSSIER_ID:"getDossierId",GET_DOSSIER_INSTANCE_ID:"getDossierInstanceId",GET_CURRENT_PAGE_VISUALIZATION_LIST:"getCurrPageVizList",FILTER_SELECT_ALL_ATTRIBUTES:"filterSelectAllAttributes",FILTER_DESELECT_ALL_ATTRIBUTES:"filterDeselectAllAttributes",FILTER_SELECT_MULTI_ATTRIBUTES:"filterSelectMultiAttributes",FILTER_SELECT_SINGLE_ATTRIBUTE:"filterSelectSingleAttribute",FILTER_SEARCH_MULTI_ATTRIBUTES:"filterSearchMultiAttributes",FILTER_SEARCH_SINGLE_ATTRIBUTE:"filterSearchSingleAttribute",FILTER_SET_DATE_RANGE:"filterSetDateRange",FILTER_SET_METRIC_QUAL_BY_VALUE:"filterSetMetricQualByValue",FILTER_SET_METRIC_QUAL_BY_RANK:"filterSetMetricQualByRank",FILTER_SET_METRIC_SLIDER_BY_VALUE:"filterSetMetricSliderByValue",FILTER_SET_METRIC_SLIDER_BY_RANK:"filterSetMetricSliderByRank",FILTER_ATTRIBUTE_SINGLE_SLIDER:"filterAttributeSingleSlider",FILTER_ATTRIBUTE_MULTI_SLIDER:"filterAttributeMultiSlider",FILTER_APPLY_ALL:"filterApplyAll",FILTER_CLEAR_ALL:"filterClearAll",FILTER_CLEAR:"filterClear",FILTER_SET_INCLUDE:"filterSetInclude",FILTER_SET_EXCLUDE:"filterSetExclude",GET_FILTER_LIST:"getFilterList",SELECT_VIZ:"selectViz",CHANGE_VISUALIZATION_SIZE:"changeVisualizationSize",GET_CURRENT_PAGE_PANEL_STACKS:"getCurrentPagePanelStacks",SWITCH_PANEL:"switchPanel",SWITCH_TO_MODE:"switchToMode",OPEN_FILTER_SUMMARY_BAR:"openFilterSummaryBar",CLOSE_FILTER_SUMMARY_BAR:"closeFilterSummaryBar",SHOW_ERROR_MSG:"showErrorMsg",GET_SELECTED_VIZ_KEYS:"getSelectedVizKeys",GET_AVAILABLE_ELEMENTS:"getAvailableElements",SELECT_VIZ_ELEMENT:"selectVizElements",SEARCH_FILTER_ELEMENTS:"searchFilterAvailableElements"},F={ENABLE_NAV_BAR:"enableLibraryNavBar",SET_SIDE_BAR_VISIBILITY:"setSideBarVisibility",GET_ALL_MY_GROUPS:"getAllMyGroups",GET_ALL_DEFAULT_GROUPS:"getAllDefaultGroups"},j={ADD_CUSTOM_ERROR_HANDLER:"addCustomErrorHandler",REMOVE_CUSTOM_ERROR_HANDLER:"removeCustomErrorHandler",ADD_SESSION_ERROR_HANDLER:"addSessionErrorHandler",REMOVE_SESSION_ERROR_HANDLER:"removeSessionErrorHandler",IS_ISESSION_ALIVE:"isISessionAlive",LOGIN_WITH_IDENTITY_TOKEN:"loginWithIdentityToken",LOGIN_WITH_AUTH_TOKEN:"loginWithAuthToken",KEEP_ISESSION_ALIVE:"keepISessionAlive",GET_MAX_SESSION_IDLE_TIME:"getMaxSessionIdleTime"},N={ON_ERROR:"onError",ON_SESSION_ERROR:"onSessionError",ON_FILTER_UPDATED:"onFilterUpdated",ON_GRAPHICS_SELECTED:"onGraphicsSelected",ON_PAGE_SWITCHED:"onPageSwitched",ON_PAGE_LOADED:"onPageLoaded",ON_LAYOUT_CHANGED:"onLayoutChanged",ON_PROMPT_ANSWERED:"onPromptAnswered",ON_PROMPT_LOADED:"onPromptLoaded",ON_VIZ_SELECTION_CHANGED:"onVizSelectionChanged",ON_DOSSIER_INSTANCE_ID_CHANGE:"onDossierInstanceIDChange",ON_VISUALIZATION_RESIZED:"onVisualizationResized",ON_PANEL_SWITCHED:"onPanelSwitched",ON_VIZ_ELEMENT_CHANGED:"onVisualizationElementsChanged",ON_DOSSIER_AUTHORING_SAVED:"onDossierAuthoringSaved",ON_DOSSIER_AUTHORING_CLOSED:"onDossierAuthoringClosed",ON_PAGE_RENDER_FINISHED:"onPageRenderFinished",ON_LIBRARY_PAGE_LOADED:"onLibraryPageLoaded",ON_EMBED_LOCATION_CHANGED:"onEmbedLocationChanged",ON_EMBED_PAGE_LOADED:"onEmbedPageLoaded"},k={IDENTITY_TOKEN:j.LOGIN_WITH_IDENTITY_TOKEN,AUTH_TOKEN:j.LOGIN_WITH_AUTH_TOKEN},M={tableOfContents:"tocPanel",undo:"undo",redo:"redo",refresh:"refresh",pauseDataRetrieval:"pause",reprompt:"reprompt",dividerLeft:"dlmt",addData:"addDS",addChapter:"addChapter",addPage:"addPage",insertVisualization:"insertVI",insertFilter:"insertFlt",insertText:"insertText",insertImage:"insertImage",insertHtml:"insertHtml",insertSurvey:"insertSurvey",insertShape:"insertShapes",insertPanelStack:"insertPanelStack",insertInfoWindow:"insertInfoWindow",save:"save",dividerRight:"dlmt_reverse",more:"more",freeformLayout:"toggleManualMode",nlp:"openNLP",responsiveViewEditor:"enterGroupingMode",responsivePreview:"togglePreviewMode"},$=I()(M),U=["library"],z={LIBRARY:"library",DOSSIER:"dossier"},H="defaultGroups",B="myGroups",V="libraryPage",G="dossierConsumptionPage",q="dossierAuthoringPage";class K{static isNullOrUndefined(e){return null==e}static hasNullOrUndefined(e){let t=this,r=!1;return t.ensureArray(e).forEach((function(e){t.isNullOrUndefined(e)&&(r=!0)})),r}static isFunction(e){return"function"==typeof e}static isArray(e){return Array.isArray(e)}static parseBoolean(e){return!0===e||"true"===e}static ensureArray(e){return[].concat(e||[])}static notOutOfRange(e,t){return this.isArray(e)&&t>=0&&t<e.length}static verifyValue(e,t,r){if(this.isNullOrUndefined(e)){let e=t+"is null or undefined";return r&&(e+=" in "+r),!1}return!0}static printDebugLog(e){window.microstrategy&&window.microstrategy.debugflag&&console.log(e)}static showErrorLog(e){const t=e&&e.message;console.error(t)}static showErrorMsg(e,t){const r=e&&e._msgRouter,a=t&&t.message;r?r.call(D.SHOW_ERROR_MSG,{msg:a}):window.alert(a)}static getOriginFromUrl(e){const t=document.createElement("a");return t.href=e,t.origin||t.protocol+"//"+t.hostname+":"+t.port}static getContextPathFromUrl(e){const t=document.createElement("a");t.href=e;const r=t.pathname,a=r.indexOf("/",1);let i="";return a>-1&&(i=r.substring(0,a)),"/"!==i[0]&&(i="/"+i),i}static getContextPathFromDossierUrl(e){const t=document.createElement("a");t.href=e;const r=t.pathname,a=r.lastIndexOf("/app/");return r.substring(0,a)}static getPageCookiePath(e){const t=document.createElement("a");t.href=e;const r="/app",a=e&&e.endsWith(r)?r:"/app/",i=t.pathname.lastIndexOf(a);if(-1!==i){const e=t.pathname.substring(0,i+r.length);return`${t.origin}${e}`}return null}static indexTrimEnd(e,t){for(var r=e.length;r>0&&e[r-1]===t;)r--;return r<e.length?e.substring(0,r):e}static handleErrorMsgForDossierAPI(e){if(K.isNullOrUndefined(e))return null;if(!1===e.valid){const t=e.error&&e.error.errMsg;return K.showErrorLog(t),Promise.reject(new Error(t))}return K.isNullOrUndefined(e.res)||(e=e.res),Promise.resolve(e)}}const Q=K;var W=i(4310),Y=i.n(W),Z=i(4074),J=i.n(Z),X=i(9649),ee=i.n(X),te=i(368),re=i.n(te),ae=i(3978),ie=i.n(ae),oe=i(4341);function ne(e,t,r){return t in e?oe(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var se=i(7361),le=i.n(se),ue=i(8580),ce=i.n(ue);function de(e,t){var r=I()(e);if(Y()){var a=Y()(e);t&&(a=s()(a).call(a,(function(t){return J()(e,t).enumerable}))),r.push.apply(r,a)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r,a,i=null!=arguments[t]?arguments[t]:{};t%2?u()(r=de(Object(i),!0)).call(r,(function(t){ne(e,t,i[t])})):ee()?re()(e,ee()(i)):u()(a=de(Object(i))).call(a,(function(t){ie()(e,t,J()(i,t))}))}return e}function pe(e,t,r){return t&&null!=r?(e&&e.length>0&&(e+="&"),e+=t+"="+r):e}function fe(e,t){if("object"==typeof t){for(let r in t)t.hasOwnProperty(r)&&(e=pe(e,r,t[r]));return e}}function me(e){return null==e?e:encodeURIComponent(t()(e))}function ve(e){const t="mstrDebugLibraryServer";let r=e;return window.localStorage.getItem(t)&&(r=_()(e,{dev:window.localStorage.getItem(t)})),r}function ge(e){return"edit"in e&&e.edit}function ye(e,t){return e?{"ui.navigation":le()(e,"enabled",!!t||void 0),"ui.navigation.gotoLibrary":e.gotoLibrary,"ui.navigation.title":e.title,"ui.navigation.toc":e.toc,"ui.navigation.reset":e.reset,"ui.navigation.reprompt":e.reprompt,"ui.navigation.share":e.share,"ui.navigation.comment":e.comment,"ui.navigation.notification":e.notification,"ui.navigation.filter":s()(e),"ui.navigation.options":e.options,"ui.navigation.search":e.search,"ui.navigation.bookmark":e.bookmark,"ui.navigation.edit":ge(e)}:t?{"ui.navigation":!0,"ui.navigation.edit":!1}:null}function Ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=I()(e&&e.toolbar||{});if(t.length>0){let r={};return u()(t).call(t,(t=>{r[M[t]]=e.toolbar[t]})),he(he({},e||{}),{},{toolbar:r})}return e}function be(e,t,r){if(!e)return;const a=I()(e[t]||{});if(a.length>0&&x()(a).call(a,(e=>!ce()(r).call(r,e)))){var i;const e=T()(i='The key of "authoring.'.concat(t,'" should be one of [ ')).call(i,r.join(", ")," ]");throw new Error(e)}}function _e(e){be(e,"toolbar",$),be(e,"menubar",U)}function Pe(e){let t={"ui.library.navigation.disabled":!1===le()(e,"library.navigationBar.enabled"),"ui.library.navigation.sortFilter":le()(e,"library.navigationBar.sortAndFilter",!0),"ui.library.navigation.title":le()(e,"library.navigationBar.title",!0),"ui.library.navigation.searchBar":le()(e,"library.navigationBar.searchBar",!0),"ui.library.navigation.createNew.enabled":le()(e,"library.navigationBar.createNew.enabled",!0),"ui.library.navigation.notifications":le()(e,"library.navigationBar.notifications",!0),"ui.library.navigation.multiSelect":le()(e,"library.navigationBar.multiSelect.enabled",!0),"ui.library.navigation.account.enabled":le()(e,"library.navigationBar.account.enabled",!0)};return le()(e,"library.sidebar.show")&&(t=he(he({},t),{},{"ui.library.sidebar.shown":!0})),t=he(he({},t),{},{"ui.library.sidebar.enabled":le()(e,"library.sidebar.enabled",!0)}),t}function we(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function Se(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,we(e,t,"get"))}var xe=i(2424),Ae=i.n(xe),Te=i(9010),Re=i.n(Te);const Ie=class{constructor(e,t,r){this.parent=r,this.children=[],this.childrenAlias=t||"children",this.init(e)}init(e){let{key:t,name:r,link:a,index:i}=e;Q.hasNullOrUndefined([t,r])||(this.nodeKey=t,this.name=r,a&&(this.link=a)),this.index=i;let o=e[this.childrenAlias];o&&this.buildChidren(o)}buildChidren(e){let t=this;Q.isArray(e)&&e.length>0&&u()(e).call(e,(function(e){t.addChild(e)}))}addChild(e){if(!e||!this.children)return;e.index=this.children.length;let t=this.createChild(e);this.children.push(t)}getChildByIndex(e){return Q.notOutOfRange(this.children,e)?this.children[e]:null}createChild(e){return null}getChildrenDescription(){let e={},{name:t,nodeKey:r,children:a}=this;if(Q.hasNullOrUndefined([t,r])||(e.name=t,e.nodeKey=r),a&&a.length>0){let t=this.childrenAlias;e[t]=[],u()(a).call(a,(function(r){r&&r.getChildrenDescription&&e[t].push(r.getChildrenDescription())}))}return e}},Oe=class extends Ie{constructor(e,t){super(e,"visualizations",t),this.setIsActive(Q.parseBoolean(e.isActive))}setIsActive(e){let t=this.parent;if(!Q.isNullOrUndefined(t)&&e){t.currentPageIndex=this.index;let e=t&&t.parent;e&&(e.currentChapterIndex=t.index)}this._isActive=e}getIsActive(){return this._isActive}getPrevPage(){let e=this.parent,t=e.getChildByIndex(this.index-1);if(!t){let r=e.getPrevChapter();t=r&&r.getLastPage()}return t}getNextPage(){let e=this.parent,t=e.getChildByIndex(this.index+1);if(!t){let r=e.getNextChapter();t=r&&r.getFirstPage()}return t}},Ce=class extends Ie{constructor(e,t){super(e,"pages",t)}createChild(e){return new Oe(e,this)}getPageList(){return this.children}getCurrentPage(){return this.getChildByIndex(this.currentPageIndex)}getPrevChapter(){return this.parent.getChildByIndex(this.index-1)}getNextChapter(){return this.parent.getChildByIndex(this.index+1)}getFirstPage(){return this.getChildByIndex(0)}getLastPage(){return this.getChildByIndex(this.children.length-1)}},Le="chapters",De=class extends Ie{constructor(e){const{toc:t}=e;super({[Le]:t},Le,null)}createChild(e){return new Ce(e,this)}_getTableContent(){return this.getChildrenDescription()}_getChapterList(){return this.children}_getCurrentChapter(){return this.getChildByIndex(this.currentChapterIndex)}_getCurrentPage(){var e=this._getCurrentChapter();return e&&e.getCurrentPage()}_getPageByNodeKey(e){const t=this._getChapterList();let r=null;for(const a of t){const t=a.getPageList();if(r=E()(t).call(t,(function(t){return t&&t.nodeKey===e})),r)break}return r}};var Fe,je,Ne=function(e,t,r,a){return new(r||(r=Promise))((function(i,o){function n(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,s)}l((a=a.apply(e,t||[])).next())}))},ke=function(e,t,r,a,i){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?i.call(e,r):i?i.value=r:t.set(e,r),r},Me=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};Fe=new WeakMap,je=new WeakMap;const $e=class{constructor(e){Fe.set(this,void 0),je.set(this,void 0),ke(this,Fe,e,"f")}_setDossierObject(e){ke(this,je,e,"f")}_getDossierStructure(){return Ne(this,void 0,void 0,(function*(){const e=yield Me(this,Fe,"f")._executeEmbeddingApiWithoutSessionCheck(D.GET_DOSSIER_STRUCTURE);ke(this,je,new De({toc:e}),"f")}))}getTableContent(){return Me(this,Fe,"f")._validateDossierConsumptionState(),Me(this,je,"f")._getTableContent()}getChapterList(){return Me(this,Fe,"f")._validateDossierConsumptionState(),Me(this,je,"f")._getChapterList()}getCurrentChapter(){return Me(this,Fe,"f")._validateDossierConsumptionState(),Me(this,je,"f")._getCurrentChapter()}getCurrentPage(){return Me(this,Fe,"f")._validateDossierConsumptionState(),Me(this,je,"f")._getCurrentPage()}getPageByNodeKey(e){return Me(this,Fe,"f")._validateDossierConsumptionState(),Me(this,je,"f")._getPageByNodeKey(e)}getSelectedVizKeys(){return Me(this,Fe,"f")._executeEmbeddingApi(D.GET_SELECTED_VIZ_KEYS)}goToPrevPage(){return Ne(this,void 0,void 0,(function*(){yield Me(this,Fe,"f")._waitAndValidateDossierConsumptionState();let e=Me(this,je,"f")._getCurrentPage().getPrevPage();return e?this.navigateToPage(e):"This is already the first Page"}))}goToNextPage(){return Ne(this,void 0,void 0,(function*(){yield Me(this,Fe,"f")._waitAndValidateDossierConsumptionState();let e=Me(this,je,"f")._getCurrentPage().getNextPage();return e?this.navigateToPage(e):"This is already the last Page"}))}navigateToPage(e){return Ne(this,void 0,void 0,(function*(){if(!e){const e="Need page param for navigateToPage";throw Q.showErrorLog(new Error(e)),e}yield Me(this,Fe,"f")._waitAndValidateDossierConsumptionState();let t=Me(this,je,"f")._getCurrentPage(),r=e.link;return t.setIsActive(!1),e.setIsActive(!0),Me(this,Fe,"f")._executeEmbeddingApi(D.GO_TO_PAGE,{link:r})}))}getCurrentPageVisualizationList(){return Me(this,Fe,"f")._executeEmbeddingApi(D.GET_CURRENT_PAGE_VISUALIZATION_LIST)}getDossierId(){return Me(this,Fe,"f")._executeEmbeddingApi(D.GET_DOSSIER_ID)}getDossierInstanceId(){return Me(this,Fe,"f")._executeEmbeddingApi(D.GET_DOSSIER_INSTANCE_ID)}openFilterSummaryBar(){return Me(this,Fe,"f")._executeEmbeddingApi(D.OPEN_FILTER_SUMMARY_BAR)}closeFilterSummaryBar(){return Me(this,Fe,"f")._executeEmbeddingApi(D.CLOSE_FILTER_SUMMARY_BAR)}filterSelectAllAttributes(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_SELECT_ALL_ATTRIBUTES,e)}filterDeselectAllAttributes(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_DESELECT_ALL_ATTRIBUTES,e)}filterSelectMultiAttributes(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_SELECT_MULTI_ATTRIBUTES,e)}filterSelectSingleAttribute(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_SELECT_SINGLE_ATTRIBUTE,e)}filterSearchSingleAttribute(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_SEARCH_SINGLE_ATTRIBUTE,e)}filterSearchMultiAttributes(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_SEARCH_MULTI_ATTRIBUTES,e)}filterSetDateRange(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_SET_DATE_RANGE,e)}filterSetMetricQualByValue(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_SET_METRIC_QUAL_BY_VALUE,e)}filterSetMetricQualByRank(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_SET_METRIC_QUAL_BY_RANK,e)}filterSetMetricSliderByValue(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_SET_METRIC_SLIDER_BY_VALUE,e)}filterSetMetricSliderByRank(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_SET_METRIC_SLIDER_BY_RANK,e)}filterAttributeSingleSlider(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_ATTRIBUTE_SINGLE_SLIDER,e)}filterAttributeMultiSlider(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_ATTRIBUTE_MULTI_SLIDER,e)}filterApplyAll(){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_APPLY_ALL)}filterClearAll(){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_CLEAR_ALL)}filterClear(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_CLEAR,e)}filterSetInclude(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_SET_INCLUDE,e)}filterSetExclude(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.FILTER_SET_EXCLUDE,e)}getFilterList(){return Me(this,Fe,"f")._executeEmbeddingApi(D.GET_FILTER_LIST)}selectVizElement(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.SELECT_VIZ_ELEMENT,e)}selectViz(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.SELECT_VIZ,e)}changeVisualizationSize(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.CHANGE_VISUALIZATION_SIZE,e)}getCurrentPagePanelStacks(){return Me(this,Fe,"f")._executeEmbeddingApi(D.GET_CURRENT_PAGE_PANEL_STACKS)}switchPanel(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.SWITCH_PANEL,e)}getAvailableElements(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.GET_AVAILABLE_ELEMENTS,e)}switchToMode(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.SWITCH_TO_MODE,e)}searchFilterElements(e){return Me(this,Fe,"f")._executeEmbeddingApi(D.SEARCH_FILTER_ELEMENTS,e)}};function Ue(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ze(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function He(e){const t=this._getCurrentPage(),r=this._getPageByNodeKey(e);r&&t&&r.nodeKey!==t.nodeKey&&(r.setIsActive(!0),t.setIsActive(!1))}var Be=new(Ae()),Ve=new(Re());function Ge(){const e=new $e(Se(this,Be));return e._setDossierObject(this),e}const qe=class extends De{constructor(e,t,r){var a,i,o;super(e),Ue(this,a=Ve),a.add(this),function(e,t,r){Ue(e,t),t.set(e,{writable:!0,value:void 0})}(this,Be),this._msgRouter=t,o=r,function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(i=this,we(i,Be,"set"),o),this.pageSwitchHandler=e=>{let t=e&&e.key;t&&He.call(this,t)},this.registerEventHandler(N.ON_PAGE_SWITCHED,this.pageSwitchHandler),this.registerEventHandler(N.ON_DOSSIER_INSTANCE_ID_CHANGE,(e=>{e&&this._msgRouter.call(D.GET_DOSSIER_STRUCTURE).then((e=>{this.children=[],this.init({[this.childrenAlias]:e.res})})).catch((e=>{Q.showErrorMsg(this,e)}))}))}getEmbeddingContext(){return Se(this,Be)}getTableContent(){return ze(this,Ve,Ge).call(this).getTableContent()}getChapterList(){return ze(this,Ve,Ge).call(this).getChapterList()}getCurrentChapter(){return ze(this,Ve,Ge).call(this).getCurrentChapter()}getCurrentPage(){return ze(this,Ve,Ge).call(this).getCurrentPage()}getPageByNodeKey(e){return ze(this,Ve,Ge).call(this).getPageByNodeKey(e)}getOperatorList(){return C}getQualTypeList(){return L}async goToPrevPage(){return ze(this,Ve,Ge).call(this).goToPrevPage()}async goToNextPage(){return ze(this,Ve,Ge).call(this).goToNextPage()}async navigateToPage(e){return ze(this,Ve,Ge).call(this).navigateToPage(e)}getSelectedVizKeys(){return Se(this,Be)._executeEmbeddingApi(D.GET_SELECTED_VIZ_KEYS)}getCurrentPageVisualizationList(){return Se(this,Be)._executeEmbeddingApi(D.GET_CURRENT_PAGE_VISUALIZATION_LIST)}getDossierId(){return Se(this,Be)._executeEmbeddingApi(D.GET_DOSSIER_ID)}getDossierInstanceId(){return Se(this,Be)._executeEmbeddingApi(D.GET_DOSSIER_INSTANCE_ID)}openFilterSummaryBar(){return Se(this,Be)._executeEmbeddingApi(D.OPEN_FILTER_SUMMARY_BAR)}closeFilterSummaryBar(){return Se(this,Be)._executeEmbeddingApi(D.CLOSE_FILTER_SUMMARY_BAR)}filterSelectAllAttributes(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_SELECT_ALL_ATTRIBUTES,e)}filterDeselectAllAttributes(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_DESELECT_ALL_ATTRIBUTES,e)}filterSelectMultiAttributes(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_SELECT_MULTI_ATTRIBUTES,e)}filterSelectSingleAttribute(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_SELECT_SINGLE_ATTRIBUTE,e)}filterSearchSingleAttribute(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_SEARCH_SINGLE_ATTRIBUTE,e)}filterSearchMultiAttributes(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_SEARCH_MULTI_ATTRIBUTES,e)}filterSetDateRange(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_SET_DATE_RANGE,e)}filterSetMetricQualByValue(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_SET_METRIC_QUAL_BY_VALUE,e)}filterSetMetricQualByRank(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_SET_METRIC_QUAL_BY_RANK,e)}filterSetMetricSliderByValue(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_SET_METRIC_SLIDER_BY_VALUE,e)}filterSetMetricSliderByRank(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_SET_METRIC_SLIDER_BY_RANK,e)}filterAttributeSingleSlider(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_ATTRIBUTE_SINGLE_SLIDER,e)}filterAttributeMultiSlider(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_ATTRIBUTE_MULTI_SLIDER,e)}filterApplyAll(){return Se(this,Be)._executeEmbeddingApi(D.FILTER_APPLY_ALL)}filterClearAll(){return Se(this,Be)._executeEmbeddingApi(D.FILTER_CLEAR_ALL)}filterClear(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_CLEAR,e)}filterSetInclude(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_SET_INCLUDE,e)}filterSetExclude(e){return Se(this,Be)._executeEmbeddingApi(D.FILTER_SET_EXCLUDE,e)}getFilterList(){return Se(this,Be)._executeEmbeddingApi(D.GET_FILTER_LIST)}selectVizElement(e){return Se(this,Be)._executeEmbeddingApi(D.SELECT_VIZ_ELEMENT,e)}selectViz(e){return Se(this,Be)._executeEmbeddingApi(D.SELECT_VIZ,e)}changeVisualizationSize(e){return Se(this,Be)._executeEmbeddingApi(D.CHANGE_VISUALIZATION_SIZE,e)}getCurrentPagePanelStacks(){return Se(this,Be)._executeEmbeddingApi(D.GET_CURRENT_PAGE_PANEL_STACKS)}switchPanel(e){return Se(this,Be)._executeEmbeddingApi(D.SWITCH_PANEL,e)}getAvailableElements(e){return Se(this,Be)._executeEmbeddingApi(D.GET_AVAILABLE_ELEMENTS,e)}switchToMode(e){return Se(this,Be)._executeEmbeddingApi(D.SWITCH_TO_MODE,e)}searchFilterElements(e){return Se(this,Be)._executeEmbeddingApi(D.SEARCH_FILTER_ELEMENTS,e)}registerEventHandler(e,t){Se(this,Be)._registerEventHandler(e,t)}removeEventHandler(e,t){Se(this,Be)._removeEventHandler(e,t)}removeEventhandler(e,t){console.warn('The API "removeEventhandler" is deprecated. Please use "removeEventHandler" instead.'),this.removeEventHandler(e,t)}registerFilterUpdateHandler(e){this._msgRouter.registerEventHandler(N.ON_FILTER_UPDATED,e)}registerPageSwitchHandler(e){this._msgRouter.registerEventHandler(N.ON_PAGE_SWITCHED,e)}registerDossierInstanceIDChangeHandler(e){this._msgRouter.registerEventHandler(N.ON_DOSSIER_INSTANCE_ID_CHANGE,e)}registerGraphicsSelectEventHandlerToViz(e,t){this.registerEventHandler(N.ON_GRAPHICS_SELECTED,(r=>{r.vizKey===e&&t(r)}))}addCustomErrorHandler(e,t){const r=this._msgRouter.eventListenerMap[N.ON_ERROR];return r&&r.length>0?(Q.showErrorLog({message:"addCustomErrorHandler failed! Only one custom error handler is supported, please call removeCustomErrorHanlder first."}),!1):(this._msgRouter.registerEventHandler(N.ON_ERROR,e),this._msgRouter.call(j.ADD_CUSTOM_ERROR_HANDLER,{prePopup:!t}),this._msgRouter.currentErrorHandlerType=!t,!0)}removeCustomErrorHandler(){this._msgRouter.clearEventhandler(N.ON_ERROR),this._msgRouter.call(j.REMOVE_CUSTOM_ERROR_HANDLER,{prePopup:this._msgRouter.currentErrorHandlerType})}removeCustomErrorhandler(){console.warn('The API "removeCustomErrorhandler" is deprecated. Please use "removeCustomErrorHandler" instead.'),this.removeCustomErrorHandler()}addSessionErrorHandler(e){const t=this._msgRouter.eventListenerMap[N.ON_SESSION_ERROR];return t&&t.length>0?(Q.showErrorLog({message:"addSessionErrorHandler failed! Only one session error handler is supported, please call removeCustomErrorHanlder first."}),!1):(this._msgRouter.registerEventHandler(N.ON_SESSION_ERROR,e),this._msgRouter.call(j.ADD_SESSION_ERROR_HANDLER),!0)}removeSessionErrorhandler(){this._msgRouter.clearEventhandler(N.ON_SESSION_ERROR),this._msgRouter.call(j.REMOVE_SESSION_ERROR_HANDLER)}makeSureSessionAlive(){return this.enableCustomAuthentication?this._msgRouter.call(j.KEEP_ISESSION_ALIVE).then((e=>{if(!e)return Or.handleSessionTimeout(Q.getPageCookiePath(this._msgRouter.url))})):p().resolve()}};var Ke="URLSearchParams"in self,Qe="Symbol"in self&&"iterator"in Symbol,We="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),Ye="FormData"in self,Ze="ArrayBuffer"in self;if(Ze)var Je=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Xe=ArrayBuffer.isView||function(e){return e&&Je.indexOf(Object.prototype.toString.call(e))>-1};function et(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function tt(e){return"string"!=typeof e&&(e=String(e)),e}function rt(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return Qe&&(t[Symbol.iterator]=function(){return t}),t}function at(e){this.map={},e instanceof at?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function it(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function ot(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function nt(e){var t=new FileReader,r=ot(t);return t.readAsArrayBuffer(e),r}function st(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function lt(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:We&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Ye&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Ke&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Ze&&We&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=st(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ze&&(ArrayBuffer.prototype.isPrototypeOf(e)||Xe(e))?this._bodyArrayBuffer=st(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ke&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},We&&(this.blob=function(){var e=it(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?it(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(nt)}),this.text=function(){var e=it(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=ot(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),a=0;a<t.length;a++)r[a]=String.fromCharCode(t[a]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ye&&(this.formData=function(){return this.text().then(dt)}),this.json=function(){return this.text().then(JSON.parse)},this}at.prototype.append=function(e,t){e=et(e),t=tt(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},at.prototype.delete=function(e){delete this.map[et(e)]},at.prototype.get=function(e){return e=et(e),this.has(e)?this.map[e]:null},at.prototype.has=function(e){return this.map.hasOwnProperty(et(e))},at.prototype.set=function(e,t){this.map[et(e)]=tt(t)},at.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},at.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),rt(e)},at.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),rt(e)},at.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),rt(e)},Qe&&(at.prototype[Symbol.iterator]=at.prototype.entries);var ut=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ct(e,t){var r,a,i=(t=t||{}).body;if(e instanceof ct){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new at(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new at(t.headers)),this.method=(a=(r=t.method||this.method||"GET").toUpperCase(),ut.indexOf(a)>-1?a:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function dt(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),a=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(i))}})),t}function ht(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new at(t.headers),this.url=t.url||"",this._initBody(e)}ct.prototype.clone=function(){return new ct(this,{body:this._bodyInit})},lt.call(ct.prototype),lt.call(ht.prototype),ht.prototype.clone=function(){return new ht(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new at(this.headers),url:this.url})},ht.error=function(){var e=new ht(null,{status:0,statusText:""});return e.type="error",e};var pt=[301,302,303,307,308];ht.redirect=function(e,t){if(-1===pt.indexOf(t))throw new RangeError("Invalid status code");return new ht(null,{status:t,headers:{location:e}})};var ft=self.DOMException;try{new ft}catch(e){(ft=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),ft.prototype.constructor=ft}function mt(e,t){return new Promise((function(r,a){var i=new ct(e,t);if(i.signal&&i.signal.aborted)return a(new ft("Aborted","AbortError"));var o=new XMLHttpRequest;function n(){o.abort()}o.onload=function(){var e,t,a={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new at,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),a=r.shift().trim();if(a){var i=r.join(":").trim();t.append(a,i)}})),t)};a.url="responseURL"in o?o.responseURL:a.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;r(new ht(i,a))},o.onerror=function(){a(new TypeError("Network request failed"))},o.ontimeout=function(){a(new TypeError("Network request failed"))},o.onabort=function(){a(new ft("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&We&&(o.responseType="blob"),i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",n),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",n)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}mt.polyfill=!0,self.fetch||(self.fetch=mt,self.Headers=at,self.Request=ct,self.Response=ht);const vt=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string"},"$schema":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}');var gt=i.t(vt,2),yt=i(5096),Et=i.n(yt);function bt(){const e=new(Et())({schemaId:"id",meta:!1,extendRefs:!0});e.addMetaSchema(gt,"http://json-schema.org/draft-04/schema"),e._opts.defaultMeta=vt.id,e._refs["http://json-schema.org/schema"]="http://json-schema.org/draft-04/schema",e.removeKeyword("propertyNames"),e.removeKeyword("contains"),e.removeKeyword("const");const t=i(4232),r=i(2364),a=i(9377);return e.addSchema(t,"dossier-consumption-navigation-bar").compile(t),e.addSchema(r,"dossier-authoring-custom-ui").compile(r),e.addSchema(a,"home-custom-ui").compile(a),e}var _t=i(4103),Pt=i.n(_t);let wt=0;function St(){return++wt,"msg"+wt}let xt=0,At=a()(O);function Tt(e,t,r){let a=e.data;return Q.getOriginFromUrl(e.origin)===t&&!(m()(At).call(At,a.mt)<0)&&a.did===r}function Rt(e){if(!Tt(e,this.childOrigin,this.did))return!1;if(e.data.mt===O.RAISE_EVENT){const{name:t,value:r}=e.data;this._notifyEventListeners(t,r)}}const It=class{constructor(e){const{url:t,iframe:r,did:a,id:i}=e;return this.url=t,this.iframe=r,this.did=a,this.id=i,this.childWindow=r.contentWindow||r.contentDocument.parentWindow,this.childOrigin=Q.getOriginFromUrl(t),this.parentWindow=window,this.eventListenerMap={},this.doHandShake(t)}static getNewMsgRouterID(){return"msgRouterID"+xt++}_notifyEventListeners(e,t){const r=this.eventListenerMap[e];Q.isArray(r)&&u()(r).call(r,(function(e){Q.isFunction(e)&&e(t)}))}doHandShake(e){var t=this;return new(p())((function(e,r){(Q.isNullOrUndefined(t.childOrigin)||"null"===t.childOrigin)&&r(new Error("Can't get correct origin from url. Please verify the url."));const a=function(i){return!!Tt(i,t.childOrigin,t.did)&&(i.data.mt===O.HAND_SHAKE?(t.parentWindow.removeEventListener("message",a),t.msgHandler=Pt()(Rt).call(Rt,t),t.parentWindow.addEventListener("message",t.msgHandler),e(t)):r(new Error("handshake failed")))};t.parentWindow.addEventListener("message",a),t.childWindow.postMessage({mt:O.HAND_SHAKE,mid:St(),did:t.did},t.childOrigin)}))}call(e,t){const r=this,a=St();return new(p())((function(i,o){const n=function(e){let t=e.data;if(!Tt(e,r.childOrigin,r.did))return!1;t.mid===a&&t.mt===O.FUNC_CALL&&(r.parentWindow.removeEventListener("message",n),i(t.value))};r.parentWindow.addEventListener("message",n),r.childWindow.postMessage({mt:O.FUNC_CALL,mid:a,did:r.did,func:e,param:t},r.childOrigin)}))}registerEventHandler(e,t){if(!e||!Q.isFunction(t))return!1;let r=this.eventListenerMap[e];return Q.isArray(r)||(r=[],this.eventListenerMap[e]=r),r.push(t),!0}removeEventhandler(e,t){if(!e||!Q.isFunction(t))return!1;let r=this.eventListenerMap[e],a=r&&m()(r).call(r,t);return a>=0&&(g()(r).call(r,a,1),!0)}clearEventhandler(e){return!!e&&(this.eventListenerMap[e]=[],!0)}destroy(){this.iframe=null,this.childWindow=null,this.eventListenerMap=null,this.parentWindow&&(this.parentWindow.removeEventListener("message",this.msgHandler),this.parentWindow=null)}};function Ot(e,t){var r=this._iframe;Q.isFunction(t)&&(r.attachEvent?r.attachEvent("onload",t):r.onload=t);const a=r&&r.contentWindow,i=a&&a.location;i&&Q.isFunction(i.replace)?i.replace(e):r.src=e}function Ct(){const e=this.placeholder;if(!this._iframe){const t=document.createElement("IFrame");t.setAttribute("MSTR-Embed-IFrame","true"),e.style.height?this.containerHeight=e.style.height:e.style.height=this.containerHeight,this.enableResponsive?(function(e){let t=e.style;t.position="relative",t.overflow="hidden"}(e),t.style.position="absolute"):e.style.width||(e.style.width=this.containerWidth),Or.destroyEmbedPageInPlaceholder(e),e.appendChild(t);let r=t.style;r.top="0",r.left="0",r.width="100%",r.height="100%",r.border="none",this._iframe=t}this._iframe._cookiePath=this.getPageCookiePath(),this._iframe._embeddedPageIndex=this._id,this._iframe.dossierCookiePath=this._iframe._cookiePath,this._iframe.embeddedDossierID=this._iframe._embeddedPageIndex,function(e){let t=e.style;t.display="block",t.visibility="visible"}(this._iframe)}function Lt(){return this.getPageContextPath()+"/auth/ui/embeddedLogin.jsp"}class Dt{constructor(){if(this.constructor===Dt)throw new Error('Class "EmbedPage" cannot be instantiated');this.initCommonProps()}initCommonProps(){this.containerWidth="800px",this.containerHeight="600px",this.enableResponsive=!1,this.enableCustomAuthentication=!1,this.getIdentityTokenUrl="/identityToken",this.customAuthenticationType=k.IDENTITY_TOKEN,this.errorHandler=null}propsValidationSync(e){throw new Error('Method "propsValidationSync(_props)" must be implemented.')}createEmbeddingContextByMsgRouter(e,t){throw new Error('Method "createEmbeddingContextByMsgRouter(_props, _msgRouter)" must be implemented.')}reloadPage(){throw new Error('Method "reloadPage()" must be implemented.')}getPageCookiePath(){throw new Error('Method "getPageCookiePath()" must be implemented.')}getEmbedPageUrl(){throw new Error('Method "getEmbedPageUrl()" must be implemented.')}getPageContextPath(){throw new Error('Method "getPageContextPath()" must be implemented.')}getPageBaseUrl(){throw new Error('Method "getPageBaseUrl()" must be implemented.')}async propsValidation(e){this.propsValidationSync(e)}setIframeAndInitMsgRouter(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._msgRouterPromise=new(p())(((r,a)=>{const i=this;Ct.call(i),Ot.call(i,e,(function(){i.msgRouterId=It.getNewMsgRouterID(),new It({id:i.msgRouterId,did:i._id,url:i.getPageBaseUrl(),iframe:i._iframe}).then((e=>{Q.isNullOrUndefined(i._msgRouter)||i._msgRouter.destroy(),i._msgRouter=e,e.id===i.msgRouterId&&(t&&i.onMsgRouterReadyHandler&&i.onMsgRouterReadyHandler({MsgRouter:i._msgRouter}),r(e))}))}))})),this._msgRouterPromise}createEmbeddingContext(e){this.embeddingContextPromise=this.propsValidation(e).then((()=>{let e=this.enableCustomAuthentication?Lt.call(this):this.getEmbedPageUrl();return this.setIframeAndInitMsgRouter(e,!this.enableCustomAuthentication)})).then((e=>{if(this.enableCustomAuthentication)return this.makeSureSessionIsAlive(e).then((()=>this.setIframeAndInitMsgRouter(this.getEmbedPageUrl(),!0))).then((()=>{this.registerErrorHandlers()}));this.registerErrorHandlers()})).then((()=>{const t=this._msgRouter;return this.createEmbeddingContextByMsgRouter(e,t)})).catch((e=>(Q.showErrorMsg(this,e),p().reject(new Error(e)))))}registerErrorHandlers(){this.errorHandler&&this._msgRouter.registerEventHandler(N.ON_ERROR,this.errorHandler),this.sessionErrorHandler&&(this._msgRouter.registerEventHandler(N.ON_SESSION_ERROR,this.sessionErrorHandler),this._msgRouter.call(j.ADD_SESSION_ERROR_HANDLER))}waitUntilAuthenticated(e){return new(p())((t=>{const r=function(a){a&&(Or.removeAuthListener(e,r),t())};this.authListener=r,Or.addAuthListener(e,r),Or.isAuthenticating(e)||this.loginWithToken()}))}makeSureSessionIsAlive(e){return e.call(j.IS_ISESSION_ALIVE).then((e=>{const t=this.getPageCookiePath();if(!e||!Or.isAuthenticated(t))return Or.isAuthenticating(t)||Or.setAuthInfo(t,{authStatus:1}),this.waitUntilAuthenticated(t)}))}loginWithToken(){Or.setAuthInfo(this.getPageCookiePath(),{authStatus:2});const e=this.customAuthenticationType;return this.getLoginToken().then((t=>{Q.printDebugLog("token got in loginWithToken: "+t),Q.printDebugLog("loginWithToken with type: "+e);const r=Q.getContextPathFromUrl(this.getEmbedPageUrl());return this._msgRouter.call(e,{token:t,cookiePath:r})})).then((e=>{if(!e.valid)throw new Error(e.error.errMsg);Q.printDebugLog("login success!"),Or.setAuthInfo(this.getPageCookiePath(),{authStatus:3,authDossierID:this._id})})).catch((e=>(Q.showErrorLog(e),p().reject(new Error(e)))))}keepISessionAlive(){return this._msgRouter.call(j.KEEP_ISESSION_ALIVE).catch((e=>(Q.showErrorLog(e),p().reject(new Error(e)))))}getMaxSessionIdleTime(){return this._msgRouter.call(j.GET_MAX_SESSION_IDLE_TIME).catch((e=>(Q.showErrorLog(e),p().reject(new Error(e)))))}destroy(){this._msgRouter&&(this._msgRouter.destroy(),this._msgRouter=null),this._iframe&&(this.placeholder.contains(this._iframe)&&this.placeholder.removeChild(this._iframe),this._iframe=null)}}const Ft=Dt;const jt=class{constructor(e){this._embeddingContext=e}getAvailableFunctions(){throw new Error('Method "getAvailableFunctions()" must be implemented.')}executeEmbeddingApi(e,t){return r=this,a=void 0,o=function*(){if(!this.getAvailableFunctions().includes(e))throw new Error("This API isn't allowed to be called in current page.");return this._embeddingContext._executeEmbeddingApiInternal(e,t)},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,s)}l((o=o.apply(r,a||[])).next())}));var r,a,i,o}},Nt=class extends jt{getAvailableFunctions(){return[...Object.values(j),D.SWITCH_TO_MODE]}},kt=class extends jt{getAvailableFunctions(){return[...Object.values(j),...Object.values(D)]}},Mt=class extends jt{getAvailableFunctions(){const e=Object.values(j);return[...Object.values(F),...e]}};const $t=class extends jt{getAvailableFunctions(){throw new Error('Method "getAvailableFunctions()" couldn\'t be called when the page is loading, or there is a prompt needs to be answered.')}executeEmbeddingApi(e,t){return r=this,a=void 0,o=function*(){return yield this._embeddingContext._getPageReadyPromise(),this._embeddingContext._executeEmbeddingApi(e,t)},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{l(o.next(e))}catch(e){t(e)}}function s(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,s)}l((o=o.apply(r,a||[])).next())}));var r,a,i,o}},Ut=class extends jt{getAvailableFunctions(){return Object.values(j)}},zt=class extends jt{getAvailableFunctions(){return Object.values(j)}},Ht=class extends jt{getAvailableFunctions(){return[]}};var Bt,Vt=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};Bt=new WeakMap;var Gt,qt,Kt,Qt,Wt,Yt,Zt,Jt,Xt,er,tr,rr,ar,ir,or,nr,sr,lr,ur,cr,dr,hr=function(e,t,r,a){return new(r||(r=Promise))((function(i,o){function n(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,s)}l((a=a.apply(e,t||[])).next())}))},pr=function(e,t,r,a,i){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?i.call(e,r):i?i.value=r:t.set(e,r),r},fr=function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};qt=new WeakMap,Kt=new WeakMap,Qt=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,Zt=new WeakMap,Jt=new WeakMap,Xt=new WeakMap,er=new WeakMap,tr=new WeakMap,rr=new WeakMap,ar=new WeakMap,ir=new WeakMap,or=new WeakMap,Gt=new WeakSet,nr=function(){this.libraryPage=new class{constructor(e){Bt.set(this,void 0),function(e,t,r,a,i){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===a?i.call(e,r):i?i.value=r:t.set(e,r)}(this,Bt,e,"f")}setNavigationBarEnabled(e){return Vt(this,Bt,"f")._executeEmbeddingApi(F.ENABLE_NAV_BAR,e)}setSidebarVisibility(e){return Vt(this,Bt,"f")._executeEmbeddingApi(F.SET_SIDE_BAR_VISIBILITY,e)}getAllMyGroups(){return Vt(this,Bt,"f")._executeEmbeddingApi(F.GET_ALL_MY_GROUPS)}getAllDefaultGroups(){return Vt(this,Bt,"f")._executeEmbeddingApi(F.GET_ALL_DEFAULT_GROUPS)}}(this),window.microstrategy.embedding.featureFlags.dossierConsumptionService&&(this.dossierConsumption=new $e(this))},sr=function(){pr(this,Qt,new Mt(this),"f"),pr(this,Wt,new kt(this),"f"),pr(this,Yt,new Nt(this),"f"),pr(this,Zt,new zt(this),"f"),pr(this,Jt,new Ut(this),"f"),pr(this,Xt,new $t(this),"f"),pr(this,er,new Ht(this),"f")},lr=function(){return hr(this,void 0,void 0,(function*(){return fr(this,Kt,"f")?(yield fr(this,qt,"f").call(j.KEEP_ISESSION_ALIVE))?void 0:Or.handleSessionTimeout(Q.getPageCookiePath(fr(this,qt,"f").url)):Promise.resolve()}))},ur=function(e){if(!e||!e.pageType)return fr(this,er,"f");switch(e.pageType){case V:case"librarySubscriptions":case"libraryInsights":return fr(this,Qt,"f");case G:return fr(this,Wt,"f");case q:return fr(this,Yt,"f");case"reportConsumptionPage":return fr(this,Zt,"f");case"reportAuthoringPage":return fr(this,Jt,"f");default:return fr(this,er,"f")}},cr=function(){fr(this,rr,"f")&&window.clearTimeout(fr(this,rr,"f")),pr(this,rr,window.setTimeout((()=>{this._removeEventHandler(N.ON_EMBED_PAGE_LOADED,fr(this,ir,"f")),pr(this,ir,null,"f"),pr(this,tr,fr(this,er,"f"),"f"),fr(this,or,"f").call(this,{pageType:"unknownType"})}),3e4),"f")},dr=function(){let e=!0;fr(this,qt,"f").registerEventHandler(N.ON_EMBED_LOCATION_CHANGED,(()=>{if(!e)return void fr(this,Gt,"m",cr).call(this);e=!1,pr(this,tr,fr(this,Xt,"f"),"f");let t=null;t=()=>{this._removeEventHandler(N.ON_PROMPT_LOADED,t),t=null,fr(this,rr,"f")&&(window.clearTimeout(fr(this,rr,"f")),pr(this,rr,null,"f"))},this._registerEventHandler(N.ON_PROMPT_LOADED,t);const r=new Promise(((e,t)=>{pr(this,or,e,"f"),pr(this,ir,(t=>{this._removeEventHandler(N.ON_EMBED_PAGE_LOADED,fr(this,ir,"f")),pr(this,ir,null,"f"),e(t)}),"f"),this._registerEventHandler(N.ON_EMBED_PAGE_LOADED,fr(this,ir,"f")),fr(this,Gt,"m",cr).call(this)}));pr(this,ar,r.then((r=>hr(this,void 0,void 0,(function*(){e=!0,null!==t&&(this._removeEventHandler(N.ON_PROMPT_LOADED,t),t=null),fr(this,rr,"f")&&(window.clearTimeout(fr(this,rr,"f")),pr(this,rr,null,"f")),r.pageType===G&&this.dossierConsumption&&(yield this.dossierConsumption._getDossierStructure()),pr(this,tr,fr(this,Gt,"m",ur).call(this,r),"f"),pr(this,ar,null,"f"),fr(this,qt,"f")._notifyEventListeners("onEmbedPageLoadFinished",r.pageType)})))),"f")}))};const mr=class{constructor(e,t,r){Gt.add(this),qt.set(this,void 0),Kt.set(this,void 0),Qt.set(this,void 0),Wt.set(this,void 0),Yt.set(this,void 0),Zt.set(this,void 0),Jt.set(this,void 0),Xt.set(this,void 0),er.set(this,void 0),tr.set(this,void 0),rr.set(this,void 0),ar.set(this,null),ir.set(this,void 0),or.set(this,void 0),pr(this,qt,e,"f"),pr(this,Kt,t,"f"),fr(this,Gt,"m",nr).call(this),fr(this,Gt,"m",sr).call(this),pr(this,tr,fr(this,Gt,"m",ur).call(this,{pageType:r}),"f"),fr(this,Gt,"m",dr).call(this)}_executeEmbeddingApi(e,t){return hr(this,void 0,void 0,(function*(){return fr(this,tr,"f").executeEmbeddingApi(e,t)}))}_executeEmbeddingApiWithoutSessionCheck(e,t){return hr(this,void 0,void 0,(function*(){const r=yield fr(this,qt,"f").call(e,t);return Q.handleErrorMsgForDossierAPI(r)}))}_executeEmbeddingApiInternal(e,t){return hr(this,void 0,void 0,(function*(){return yield fr(this,Gt,"m",lr).call(this),this._executeEmbeddingApiWithoutSessionCheck(e,t)}))}_getPageReadyPromise(){return fr(this,ar,"f")}_validateDossierConsumptionState(e){if(fr(this,tr,"f")!==fr(this,Wt,"f"))throw new Error(e?"This API couldn't be called when the page isn't a dossier consumption page!":"This API couldn't be called when the page is still loading, or isn't a dossier consumption page!")}_waitAndValidateDossierConsumptionState(){return hr(this,void 0,void 0,(function*(){null!==fr(this,ar,"f")&&(yield fr(this,ar,"f")),this._validateDossierConsumptionState(!0)}))}_registerEventHandler(e,t){fr(this,qt,"f").registerEventHandler(e,t)}_removeEventHandler(e,t){fr(this,qt,"f").removeEventhandler(e,t)}},vr=bt(),gr=["filters","visualizationAppearances","visualizationSelectedElements"],yr=["objectID","url","instance"],Er="authoring";function br(){let e=this.url.split("#"),t=e[0],r=e[1],{tocFeature:a,filterFeature:i,shareFeature:o,navigationBar:n,optionsFeature:s,reportInLibraryFeature:l,disableNotification:u,uiMessage:c,dossierFeature:d,customUi:h}=this,p={"app.embedded":!0,"app.embedded.disableCustomErrorHandlerOnCreate":!!this.disableCustomErrorHandlerOnCreate,"app.embedded.dossierRenderingMode":this.dossierRenderingMode,"app.embedded.authoring":me(Ee(this.authoring)),"auth.freeLogin":this.enableFreeLogin,"dossier.filters":me(this.filters),"ui.toc":me(this.dockedTOC),"ui.comment":me(this.dockedComment),"ui.filter":me(this.dockedFilter),"ui.vizAppearances":me(this.visualizationAppearances),"app.enableCollaboration":this.enableCollaboration,persistViewState:this.persistViewState,"feature.smartBanner":this.smartBanner,"feature.toc":a&&a.enabled,"feature.dossier.readonly":d&&d.readonly,"dossier.instance":me(this.instance),"feature.dossier.enableVizSelection":this.enableVizSelection,"dossier.selectedViz":this.selectedViz,visualizationSelectedElements:me(this.visualizationSelectedElements)};if(d&&d.visExport){const{visExport:e}=d,{enabled:t,excel:r,pdf:a,csv:i}=e;p=_()(p,{"feature.dossier.visExport":t,"feature.dossier.visExport.excel":r,"feature.dossier.visExport.pdf":a,"feature.dossier.visExport.csv":i})}i&&(p=_()(p,{"feature.filter":i.enabled,"feature.filter.edit":i.edit,"feature.filter.summary":i.summary})),n&&(p=_()(p,ye(n))),p=_()(p,Pe(h)),o&&(p=_()(p,{"feature.share":o.enabled,"feature.share.invite":o.invite,"feature.share.link":o.link,"feature.share.email":o.email,"feature.share.export":o.export,"feature.share.download":o.download,"feature.share.shareDossier":o.shareDossier,"feature.share.subscribe":o.subscribe})),s&&(p=_()(p,{"feature.options":s.enabled,"feature.options.help":s.help,"feature.options.myLibraries":s.myLibraries,"feature.options.preferences":s.preferences,"feature.options.logout":s.logout,"feature.options.manage":s.manage,"feature.options.showTutorials":s.showTutorials})),l&&(p=_()(p,{"feature.reportInLibrary.enabled":l.enabled})),p=function(e,t,r){let a=e;return t&&(a=_()(a,{"ui.message":t.enabled,"ui.message.addToLibrary":t.addToLibrary})),(!0===r||null===r&&null===t)&&(a=_()(a,{"ui.message":!1})),a}(p,c,u),p=ve(p);let f=fe("",p)+_r.call(this),v=m()(t).call(t,"?")>=0;return v||(t=w()(t).call(t)),t+(v?"&":"?")+f+(r?"#"+r:"")}function _r(){let e=this.visibleTutorials,t=0;return e?(e.hasOwnProperty("welcome")&&e.welcome&&(t^=4),e.hasOwnProperty("library")&&e.library&&(t^=8),e.hasOwnProperty("dossier")&&e.dossier&&(t^=2),e.hasOwnProperty("notification")&&e.notification&&(t^=1),"&app.onboard.visibleTutorials="+t.toString()):""}const Pr=class extends Ft{initDossierProps(){this.isToolbarShown=!1,this.disableNotification=null,this.filters=null,this.enableCollaboration=null,this.dockedTOC=null,this.dockedComment=null,this.dockedFilter=null,this.navigationBar=null,this.uiMessage=null,this.tocFeature=null,this.filterFeature=null,this.shareFeature=null,this.optionsFeature=null,this.reportInLibraryFeature={enabled:!1},this.visibleTutorials=null,this.persistViewState=null,this.smartBanner=null,this.onMsgRouterReadyHandler=null,this.instance=null,this.enableVizSelection=null,this.selectedViz=null,this.newDossier=!1}getLoginToken(){const e=this.contextPath+this.getIdentityTokenUrl;let t="dossierContextPath="+this.dossierContextPath;return fetch(e,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST",body:t}).then((t=>{let r=t.headers.get("X-MSTR-IdentityToken");if(!r)throw new Error("Cannot get identityToken for authentication from "+e);return r}))}constructor(e){super(),this.initDossierProps(),this._props=e,this.createDossierPromise(e)}customInputValidation(e){const{dossierRenderingMode:t,newDossier:r,objectID:a,url:i,serverURL:o}=e,n=t===Er;if(n&&x()(gr).call(gr,(t=>e[t])))return{valid:!1,errorMessage:'The fields ["'.concat(gr.join('", "'),'"] are not allowed to be used when "dossierRenderingMode" is "authoring". Please remove these forbidden fields and try again.')};if(r){if(x()(yr).call(yr,(t=>e[t])))return{valid:!1,errorMessage:'The fields ["'.concat(yr.join('", "'),'"] are not allowed to be used when "newDossier" is true. Please remove these forbidden fields, or remove the "newDossier" field and try again.')};if(!n)return{valid:!1,errorMessage:'You couldn\'t set "newDossier" to true to create a new dossier when "dossierRenderingMode" is not "authoring". Please set "dossierRenderingMode" to "authoring", or remove the "newDossier" field and try again.'}}else if(!i&&o&&!a)return{valid:!1,errorMessage:"You must input 'objectID' when 'newDossier' isn't true and 'serverURL' is provided."};return{valid:!0}}propsValidationSync(e){let t="";const r=i(120),a="string"==typeof r?vr.getSchema(r):vr.compile(r);if(!a(e))throw t="Error when valid parameter for microstrategy.dossier.create: "+vr.errorsText(a.errors),new Error(t);const o=this.customInputValidation(e);if(!o.valid)throw new Error(o.errorMessage);if(e.authoring&&_e(e.authoring),_()(this,e),(this.newDossier||"00000000000000000000000000000000"===this.objectID)&&(this.objectID="4802DE4C4C18F434C75BFA84EC8A5E4B"),this.enableFreeLogin=!!this.enableCustomAuthentication,this.serverURL){var n,s,l,u,c;this.dossierContextPath=Q.indexTrimEnd(this.serverURL,"/");const e=this.configAppId?"/config/".concat(this.configAppId):"";this.url=T()(n=T()(s=T()(l=T()(u="".concat(w()(c=this.dossierContextPath).call(c),"/app")).call(u,e,"/")).call(l,this.applicationID,"/")).call(s,this.objectID)).call(n,this.pageKey?"/"+this.pageKey:"")}else this.dossierContextPath=Q.getOriginFromUrl(this.url)+Q.getContextPathFromDossierUrl(this.url);if(this.onMsgRouterReadyHandler&&!Q.isFunction(this.onMsgRouterReadyHandler))throw new Error("The provided value for onMsgRouterReadyHandler is not a function");this.dossierCookiePath=Q.getPageCookiePath(this.url),this.contextPath=Q.getContextPathFromUrl(window.location.href),this.embeddingDossierUrl=br.call(this)}getPageContextPath(){return this.dossierContextPath}getPageCookiePath(){return this.dossierCookiePath}getEmbedPageUrl(){return this.embeddingDossierUrl}getPageBaseUrl(){return this.url}registerVizElementSelectionHandler(e,t){const r=t.visualizationSelectedElements;if(!r)return;const a=i=>{e.removeEventhandler(N.ON_PAGE_RENDER_FINISHED,a);let o=p().resolve();u()(r).call(r,(t=>{o=o.then((()=>e.call(D.SELECT_VIZ_ELEMENT,{vizKey:t.visualizationkey,selection:t.selection}))).then((e=>Q.handleErrorMsgForDossierAPI(e)))})),o.catch((e=>{t.errorHandler&&t.errorHandler(e)}))};e.registerEventHandler(N.ON_PAGE_RENDER_FINISHED,a)}registerPageLoadHandler(e,t,r,a){const i=o=>{this.errorHandler&&e.removeEventhandler(N.ON_ERROR,this.errorHandler),e.removeEventhandler(N.ON_PAGE_LOADED,i),this.registerVizElementSelectionHandler(e,t),e.call(D.GET_DOSSIER_STRUCTURE).then((t=>{if(t.valid){const a=t.res,i=this.dossierRenderingMode===Er?q:G,o=new mr(e,this.enableCustomAuthentication,i),n=new qe({toc:a},e,o);n.enableCustomAuthentication=this.enableCustomAuthentication,n.parent=this,this.dossier=n,Q.isFunction(this.onDossierCreated)&&this.onDossierCreated(n),this.getMaxSessionIdleTime().then((e=>{Or.updateMaxSessionIdleTime(e)})),r({dossierPage:n})}else a(new Error(t.error.errMsg))})).catch((e=>(Q.showErrorMsg(this,e),p().reject(new Error(e)))))};e.registerEventHandler(N.ON_PAGE_LOADED,i)}createEmbeddingContextByMsgRouter(e,t){return new(p())(((r,a)=>{this.registerPageLoadHandler(t,e,r,a),t.registerEventHandler(N.ON_PAGE_SWITCHED,(e=>{this.enableResponsive&&(this.placeholder.style.height=this.containerHeight)})),t.registerEventHandler(N.ON_LAYOUT_CHANGED,(e=>{if(this.enableResponsive){if(0===e.layoutMode)return void(this.placeholder.style.height=this.containerHeight);this.placeholder.style.height=e.dimension.height+e.dimension.offsetTop+"px"}}))}))}createDossierPromise(e){this.createEmbeddingContext(e),this.dossierPromise=this.embeddingContextPromise.then((e=>{let{dossierPage:t}=e;return t}))}reloadDossier(){let e=br.call(this);return this.setIframeAndInitMsgRouter(e).then((()=>{const e=this._msgRouter;return this.dossier&&(this.dossier._msgRouter=e),new(p())(((t,r)=>{let a=r=>{e.removeEventhandler(N.ON_PAGE_LOADED,a),t({valid:!0,message:"reload dossier success"})};e.registerEventHandler(N.ON_PAGE_LOADED,a)}))})).catch((e=>(Q.showErrorMsg(this,e),{valid:!1,error:{errMsg:"reload dossier failed!"}})))}reloadPage(){return this.dossierPromise.then((()=>this.reloadDossier()))}destroy(){super.destroy(),this.dossier=null}},wr=bt(),Sr=class extends Ft{initLibraryProps(){this.customApplicationId=null,this.customUi=null,this.currentPage=null}constructor(e){super(),this.initLibraryProps(),this._props=e,this.createEmbeddingContext(e)}propsValidationSync(e){var t;let r="";const a=i(6936),o="string"==typeof a?wr.getSchema(a):wr.compile(a);if(!o(e))throw r="Error when valid parameter for microstrategy.embeddingContexts.embedLibraryPage: ".concat(wr.errorsText(o.errors)),new Error(r);const{enableCustomAuthentication:n,getLoginToken:s,currentPage:l}=e;if(n&&!Q.isFunction(s))throw new Error('You must provide a valid "getLoginToken" function when enableCustomAuthentication=true.');var u;if(l&&l.key&&!l.targetGroup&&ce()(t=[H,B]).call(t,l.key))throw new Error(T()(u='You must provide "targetGroup" when your "currentPage" is set to "'.concat(H,'" or "')).call(u,B,'"'));le()(e,"customUi.dossierAuthoring")&&_e(le()(e,"customUi.dossierAuthoring")),_()(this,e),this.pageContextPath=Q.indexTrimEnd(this.serverUrl,"/"),this.pageCookiePath="".concat(this.pageContextPath,"/app");const c=this.customApplicationId?"/config/".concat(this.customApplicationId):"";this.baseUrl=this.pageCookiePath+c,this.embeddingPageUrl=this.getLibraryUrlForEmbed()}getLibraryUrlForEmbed(){var e;const{customUi:r,currentPage:a,customApplicationId:i,disableCustomErrorHandlerOnCreate:o}=this;let n={"app.embedded":!0,"app.embedded.pageType":z.LIBRARY,"app.embedded.configId":i,"app.embedded.disableCustomErrorHandlerOnCreate":!!o};n=_()(n,Pe(r));const s=le()(r,"dossierConsumption.navigationBar");n=_()(n,ye(s,!0));const l=le()(r,"dossierAuthoring");if(l&&(n=_()(n,{"app.embedded.authoring":me(Ee(l))})),a){let e=a;"favorites"===a.key&&(e=JSON.parse(t()(a)),e.key="favoriates"),n=_()(n,{"library.sidebar.targetPage":me(e)})}n=ve(n);let u=fe("",n);return T()(e="".concat(this.baseUrl,"?")).call(e,u)}createEmbeddingContextByMsgRouter(e,t){return new(p())(((r,a)=>{const i=()=>{this.errorHandler&&t.removeEventhandler(N.ON_ERROR,this.errorHandler),t.removeEventhandler(N.ON_LIBRARY_PAGE_LOADED,i),this.getMaxSessionIdleTime().then((e=>{Or.updateMaxSessionIdleTime(e)})),r(new mr(t,e.enableCustomAuthentication,V))};t.registerEventHandler(N.ON_LIBRARY_PAGE_LOADED,i)}))}reloadPage(){return p().resolve({valid:!0})}getPageContextPath(){return this.pageContextPath}getPageCookiePath(){return this.pageCookiePath}getEmbedPageUrl(){return this.embeddingPageUrl}getPageBaseUrl(){return this.baseUrl}};let xr=0,Ar={},Tr=60;const Rr={embedPageMap:{},createEmbedPageByType(e,r){let i=null;if(r===z.DOSSIER)i=new Pr(e);else{if(r!==z.LIBRARY)throw new Error('You should provide a valid "pageType", which could only be in '.concat(t()(a()(z))));i=new Sr(e)}return i},createEmbedPage(e,t){e._id=(++xr,"dossierInstance"+xr);const r=this.createEmbedPageByType(e,t),a=r&&r.getPageCookiePath();if(a){let e=this.embedPageMap[a];e||(e=[],this.embedPageMap[a]=e),r.isFirstDossier=0===e.length,e.push(r)}return r},destroyEmbedPage(e){const t=e&&e.getPageCookiePath();let r=this.embedPageMap,a=r[t];a&&a.length>0&&(r[t]=s()(a).call(a,(function(t){return e._id!==t._id})),e.destroy(),r[t].length<=0&&(this.authInfoMap[t]={authStatus:0},this.clearSessionTimeout(t)),this.removeAuthListener(t,e.authListener))},destroyEmbedPageInPlaceholder(e){if(!e||!Q.isFunction(e.querySelectorAll))return void console.error("placeholder should be a dom node");let t=e.querySelectorAll("iframe[".concat("MSTR-Embed-IFrame",'="true"]'));u()(t).call(t,(e=>{const t=e._embeddedPageIndex,r=e._cookiePath,a=this.getEmbeddedPageByIndex(r,t);a&&this.destroyEmbedPage(a)}))},authInfoMap:{},getAuthStatus(e){const t=this.authInfoMap[e];return Q.isNullOrUndefined(e)||Q.isNullOrUndefined(t)?0:t.authStatus},isAuthenticating(e){return 2===this.getAuthStatus(e)},isAuthenticated(e){return 3===this.getAuthStatus(e)},setAuthInfo(e,t){if(Q.isNullOrUndefined(e)||Q.isNullOrUndefined(t))return;const r=this.authInfoMap[e]||{};if(this.authInfoMap[e]=t,3===t.authStatus){const t=this.authListenerMap[e];if(Q.isArray(t))for(let e=t.length-1;e>=0;e--)(0,t[e])(!0);3!==r.authStatus&&this.periodiclyKeepISessionAlive(e)}},clearSessionTimeout(e){Ar[e]&&(clearTimeout(Ar[e]),Ar[e]=null)},updateMaxSessionIdleTime(e){Tr=e},periodiclyKeepISessionAlive(e){this.clearSessionTimeout(e),Ar[e]=d()((()=>{if(this.isAuthenticated(e)){const t=this.embedPageMap[e];u()(t).call(t,(e=>{e._msgRouterPromise.then((()=>{e.keepISessionAlive()}))})),this.periodiclyKeepISessionAlive(e)}}),900*Tr)},handleSessionTimeout(e){return Q.printDebugLog("----------handleSessionTimeout----------"),this.getFirstEmbedPage(e).loginWithToken().then((()=>{let t=[];const r=this.embedPageMap[e];return u()(r).call(r,(e=>{t.push(e.reloadPage().then((t=>{t.valid||Q.showErrorMsg(e,new Error("Session recover failed, please check your network and refresh the page!"))})))})),p().all(t)}))},authListenerMap:{},addAuthListener(e,t){if(!e||!Q.isFunction(t))return!1;let r=this.authListenerMap[e];return Q.isArray(r)||(r=[],this.authListenerMap[e]=r),r.push(t),!0},removeAuthListener(e,t){if(!e||!Q.isFunction(t))return!1;let r=this.authListenerMap[e],a=r&&m()(r).call(r,t);return a>=0&&(g()(r).call(r,a,1),!0)},getFirstEmbedPage(e){const t=this.embedPageMap[e];return t&&t.length>0?t[0]:null},getEmbeddedPageByIndex(e,t){if(Q.isNullOrUndefined(this.embedPageMap)||Q.isNullOrUndefined(e)||Q.isNullOrUndefined(t))return null;const r=this.embedPageMap[e];return r&&r.length>0?E()(r).call(r,(e=>e._id===t)):null}},Ir={dossier:{}};Ir.dossier.create=function(e){const t=Rr.createEmbedPage(e,z.DOSSIER);return t&&t.dossierPromise},Ir.dossier.destroy=function(e){if(e.placeholder)return Rr.destroyEmbedPageInPlaceholder(e.placeholder);console.error("please provide the {placeholder: embedded_dossier_placehoder}!")},Ir.dossier.EventType=N,Ir.dossier.CustomAuthenticationType=k,Ir.embeddingContexts={},Ir.embeddingContexts.embedLibraryPage=function(e){const t=Rr.createEmbedPage(e,z.LIBRARY);return t&&t.embeddingContextPromise},Ir.embeddingContexts.destroyEmbedPage=function(e){if(e.placeholder)return Rr.destroyEmbedPageInPlaceholder(e.placeholder);console.error("An error occurs when calling microstrategy.embeddingContexts.destroyEmbedPage(data): data.placeholder should be a valid dom node!")},Ir.embedding={featureFlags:{}},window.microstrategy=Ir;const Or=Rr})()})();